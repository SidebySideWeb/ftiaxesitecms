module.exports=[96868,a=>{"use strict";var b=a.i(44279),c=a.i(86719),d=a.i(48325),e=a.i(51496),f=a.i(78359);function g({open:a,onClose:g,title:h,children:i}){return(0,b.jsx)(d.AnimatePresence,{children:a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:g,className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm"}),(0,b.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-2xl border border-border bg-card p-6 shadow-xl",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-card-foreground",children:h}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:g,className:"h-8 w-8 rounded-lg",children:(0,b.jsx)(e.X,{className:"h-4 w-4"})})]}),i]})]})})}a.s(["Modal",()=>g])},48325,51496,a=>{"use strict";var b=a.i(44279),c=a.i(68316),d=a.i(45676),e=a.i(13364),f=a.i(62121),g=a.i(8558),h=a.i(29299),i=c,j=a.i(57462);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(2250);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=q(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=q(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(r(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=q(a),d=(!l||!!s)&&(u===B||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],48325);let t=(0,a.i(5097).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>t],51496)},71458,a=>{"use strict";var b=a.i(68316),c=a.i(10849),d=a.i(22562),e=a.i(27017);function f(){let{user:a}=(0,d.useSession)(),{setTenantId:f}=(0,e.useTenant)(),[g,h]=(0,b.useState)([]),[i,j]=(0,b.useState)(null),[k,l]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{if(!a){console.log("[useTenants] No user found, skipping fetch"),l(!1);return}!async function(){l(!0);let b=(0,c.supabaseBrowser)();console.log("[useTenants] Fetching tenants for user:",a.id);let{data:d,error:e}=await b.from("tenant_users").select("tenant_id, tenants(id, name, slug, created_at)").eq("user_id",a.id);if(e){console.error("[useTenants] Error fetching tenant_users:",e),l(!1);return}console.log("[useTenants] Found tenant_users:",d?.length||0,d);let g=(await Promise.all((d||[]).map(async a=>{let c;if(!a.tenants)return null;let d="#6366f1";try{let{data:e}=await b.from("globals").select("value").eq("tenant_id",a.tenants.id).eq("key","settings").maybeSingle();if(e?.value&&"object"==typeof e.value){let a=e.value;c=a.domain||void 0,d=a.primaryColor||"#6366f1"}}catch(a){}return{id:a.tenants.id,name:a.tenants.name,slug:a.tenants.slug,domain:c,created_at:a.tenants.created_at,createdAt:a.tenants.created_at,brandColor:d}}))).filter(a=>null!==a);console.log("[useTenants] Formatted tenants:",g.length,g),h(g),j(a=>{if(a&&g.some(b=>b.id===a.id))return a;let b=g.length>0?g[0]:null;return b&&f(b.id),b}),l(!1)}()},[a]),{tenants:g,setTenants:h,activeTenant:i,setActiveTenant:j,isLoading:k}}a.s(["useTenants",()=>f])},61291,a=>{"use strict";let b=(0,a.i(5097).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],61291)},93583,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d.TEMPORARY="temporary",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},64323,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},56278,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20169)._(a.r(68316)),g=a.r(64323),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},44473,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(68316),e=a.r(93583),f=a.r(56278);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},53478,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},27017,a=>{"use strict";var b=a.i(44279),c=a.i(68316),d=a.i(22562);let e=(0,c.createContext)(void 0);function f({children:a}){let{supabase:f}=(0,d.useSession)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0);(0,c.useEffect)(()=>{f?async function(){let{data:{user:a}}=await f.auth.getUser();if(a){let{data:b}=await f.from("tenant_users").select("tenant_id, tenants(id, name, slug)").eq("user_id",a.id).limit(1).maybeSingle();if(b?.tenants){let a=b.tenants;m(a.id),j({id:a.id,name:a.name,slug:a.slug,brandColor:"#6366f1"})}}l(!1)}():l(!1)},[f]);let m=a=>{h(a),a&&f&&f.from("tenants").select("id, name, slug").eq("id",a).maybeSingle().then(({data:a,error:b})=>{a&&!b&&j({id:a.id,name:a.name,slug:a.slug,brandColor:"#6366f1"})})};return(0,b.jsx)(e.Provider,{value:{tenantId:g,tenant:i,setTenantId:m,loading:k},children:a})}function g(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useTenant must be used within a TenantProvider");return a}a.s(["TenantProvider",()=>f,"useTenant",()=>g])},47341,a=>{"use strict";let b=(0,a.i(5097).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],47341)},10849,a=>{"use strict";var b=a.i(34293);let c="https://qgisnksjztjczsrbjryr.supabase.co".trim(),d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnaXNua3NqenRqY3pzcmJqcnlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNTI0ODcsImV4cCI6MjA4MDYyODQ4N30.B9j69ZAWHxEKvgJC0B_4iVtj45h2USfbWWssIQCx_DA".trim();if(process.env.SUPABASE_SERVICE_ROLE?.trim(),!c||!d)throw Error(`Missing Supabase environment variables. Please check your .env.local file:
NEXT_PUBLIC_SUPABASE_URL: ${c?"✓":"✗"}
NEXT_PUBLIC_SUPABASE_ANON_KEY: ${d?"✓":"✗"}
Make sure to restart your dev server after updating .env.local`);let e=null;function f(){if(!c||!d)throw Error("Supabase client not initialized. Check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY");return e||(e=(0,b.createClient)(c,d))}a.s(["supabaseBrowser",()=>f])}];

//# sourceMappingURL=_ef3d5069._.js.map