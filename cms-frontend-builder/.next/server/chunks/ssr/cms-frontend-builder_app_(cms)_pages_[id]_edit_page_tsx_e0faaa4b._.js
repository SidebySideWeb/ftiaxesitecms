module.exports=[94394,a=>{"use strict";let b;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.i(44279),w=a.i(68316),x=a.i(90785),y=a.i(86719),z=a.i(48325),A=a.i(16846),B=a.i(70469),C=a.i(5097);let D=(0,C.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var E=a.i(31613);let F=(0,C.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var G=a.i(61291),H=a.i(74380),I=a.i(37349),J=a.i(95685),K=a.i(52604),L=a.i(78359),M=a.i(85961);a.i(95507);var N=a.i(7536),O=(0,N.createServerReference)("60509bd3d21a4f5dbfb69401201133bd409939a915",N.callServer,void 0,N.findSourceMapURL,"savePageSections"),P=(0,N.createServerReference)("60c8151fe9642c04202c934485fc663df701bae5c3",N.callServer,void 0,N.findSourceMapURL,"publishPage"),Q=(0,N.createServerReference)("4039844c4edce9f88aa770c21f251335b9dc55dc8f",N.callServer,void 0,N.findSourceMapURL,"setDraft"),R=(0,N.createServerReference)("70955127ed6e499407f17658eae21ccbff8fced13e",N.callServer,void 0,N.findSourceMapURL,"clonePage"),S=(0,N.createServerReference)("6084208bf768c3eb69438f6190e8aa8a9d95a15c7d",N.callServer,void 0,N.findSourceMapURL,"restoreVersion"),T=(0,N.createServerReference)("40d2b340c3ab611bd6de0ec29a015d46400acb3e52",N.callServer,void 0,N.findSourceMapURL,"listVersions"),U=a.i(71458),V=a.i(39639),W=a.i(25638);function X(a){let b=Object.prototype.toString.call(a);return"[object Window]"===b||"[object global]"===b}function Y(a){return"nodeType"in a}function Z(a){var b,c;return a?X(a)?a:Y(a)&&null!=(b=null==(c=a.ownerDocument)?void 0:c.defaultView)?b:window:window}function $(a){let{Document:b}=Z(a);return a instanceof b}function _(a){return!X(a)&&a instanceof Z(a).HTMLElement}function aa(a){return a instanceof Z(a).SVGElement}function ab(a){return a?X(a)?a.document:Y(a)?$(a)?a:_(a)||aa(a)?a.ownerDocument:document:document:document}let ac=w.useEffect;function ad(a){let b=(0,w.useRef)(a);return ac(()=>{b.current=a}),(0,w.useCallback)(function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return null==b.current?void 0:b.current(...c)},[])}function ae(a,b){void 0===b&&(b=[a]);let c=(0,w.useRef)(a);return ac(()=>{c.current!==a&&(c.current=a)},b),c}function af(a,b){let c=(0,w.useRef)();return(0,w.useMemo)(()=>{let b=a(c.current);return c.current=b,b},[...b])}function ag(a){let b=ad(a),c=(0,w.useRef)(null),d=(0,w.useCallback)(a=>{a!==c.current&&(null==b||b(a,c.current)),c.current=a},[]);return[c,d]}function ah(a){let b=(0,w.useRef)();return(0,w.useEffect)(()=>{b.current=a},[a]),b.current}let ai={};function aj(a,b){return(0,w.useMemo)(()=>{if(b)return b;let c=null==ai[a]?0:ai[a]+1;return ai[a]=c,a+"-"+c},[a,b])}function ak(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce((b,c)=>{for(let[d,e]of Object.entries(c)){let c=b[d];null!=c&&(b[d]=c+a*e)}return b},{...b})}}let al=ak(1),am=ak(-1);function an(a){if(!a)return!1;let{KeyboardEvent:b}=Z(a.target);return b&&a instanceof b}function ao(a){if(function(a){if(!a)return!1;let{TouchEvent:b}=Z(a.target);return b&&a instanceof b}(a)){if(a.touches&&a.touches.length){let{clientX:b,clientY:c}=a.touches[0];return{x:b,y:c}}else if(a.changedTouches&&a.changedTouches.length){let{clientX:b,clientY:c}=a.changedTouches[0];return{x:b,y:c}}}return"clientX"in a&&"clientY"in a?{x:a.clientX,y:a.clientY}:null}let ap=Object.freeze({Translate:{toString(a){if(!a)return;let{x:b,y:c}=a;return"translate3d("+(b?Math.round(b):0)+"px, "+(c?Math.round(c):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;let{scaleX:b,scaleY:c}=a;return"scaleX("+b+") scaleY("+c+")"}},Transform:{toString(a){if(a)return[ap.Translate.toString(a),ap.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:b,duration:c,easing:d}=a;return b+" "+c+"ms "+d}}}),aq="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ar={display:"none"};function as(a){let{id:b,value:c}=a;return w.default.createElement("div",{id:b,style:ar},c)}function at(a){let{id:b,announcement:c,ariaLiveType:d="assertive"}=a;return w.default.createElement("div",{id:b,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":d,"aria-atomic":!0},c)}let au=(0,w.createContext)(null),av={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},aw={onDragStart(a){let{active:b}=a;return"Picked up draggable item "+b.id+"."},onDragOver(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was moved over droppable area "+c.id+".":"Draggable item "+b.id+" is no longer over a droppable area."},onDragEnd(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was dropped over droppable area "+c.id:"Draggable item "+b.id+" was dropped."},onDragCancel(a){let{active:b}=a;return"Dragging was cancelled. Draggable item "+b.id+" was dropped."}};function ax(a){var b;let c,{announcements:d=aw,container:e,hiddenTextDescribedById:f,screenReaderInstructions:g=av}=a,{announce:h,announcement:i}=function(){let[a,b]=(0,w.useState)("");return{announce:(0,w.useCallback)(a=>{null!=a&&b(a)},[]),announcement:a}}(),j=aj("DndLiveRegion"),[k,l]=(0,w.useState)(!1);if((0,w.useEffect)(()=>{l(!0)},[]),b=(0,w.useMemo)(()=>({onDragStart(a){let{active:b}=a;h(d.onDragStart({active:b}))},onDragMove(a){let{active:b,over:c}=a;d.onDragMove&&h(d.onDragMove({active:b,over:c}))},onDragOver(a){let{active:b,over:c}=a;h(d.onDragOver({active:b,over:c}))},onDragEnd(a){let{active:b,over:c}=a;h(d.onDragEnd({active:b,over:c}))},onDragCancel(a){let{active:b,over:c}=a;h(d.onDragCancel({active:b,over:c}))}}),[h,d]),c=(0,w.useContext)(au),(0,w.useEffect)(()=>{if(!c)throw Error("useDndMonitor must be used within a children of <DndContext>");return c(b)},[b,c]),!k)return null;let m=w.default.createElement(w.default.Fragment,null,w.default.createElement(as,{id:f,value:g.draggable}),w.default.createElement(at,{id:j,announcement:i}));return e?(0,W.createPortal)(m,e):m}function ay(){}function az(a,b){return(0,w.useMemo)(()=>({sensor:a,options:null!=b?b:{}}),[a,b])}(c=l||(l={})).DragStart="dragStart",c.DragMove="dragMove",c.DragEnd="dragEnd",c.DragCancel="dragCancel",c.DragOver="dragOver",c.RegisterDroppable="registerDroppable",c.SetDroppableDisabled="setDroppableDisabled",c.UnregisterDroppable="unregisterDroppable";let aA=Object.freeze({x:0,y:0});function aB(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function aC(a,b){let{data:{value:c}}=a,{data:{value:d}}=b;return c-d}function aD(a,b){let{data:{value:c}}=a,{data:{value:d}}=b;return d-c}function aE(a){let{left:b,top:c,height:d,width:e}=a;return[{x:b,y:c},{x:b+e,y:c},{x:b,y:c+d},{x:b+e,y:c+d}]}function aF(a,b){if(!a||0===a.length)return null;let[c]=a;return b?c[b]:c}function aG(a,b,c){return void 0===b&&(b=a.left),void 0===c&&(c=a.top),{x:b+.5*a.width,y:c+.5*a.height}}let aH=a=>{let{collisionRect:b,droppableRects:c,droppableContainers:d}=a,e=aG(b,b.left,b.top),f=[];for(let a of d){let{id:b}=a,d=c.get(b);if(d){let c=aB(aG(d),e);f.push({id:b,data:{droppableContainer:a,value:c}})}}return f.sort(aC)},aI=a=>{let{collisionRect:b,droppableRects:c,droppableContainers:d}=a,e=[];for(let a of d){let{id:d}=a,f=c.get(d);if(f){let c=function(a,b){let c=Math.max(b.top,a.top),d=Math.max(b.left,a.left),e=Math.min(b.left+b.width,a.left+a.width),f=Math.min(b.top+b.height,a.top+a.height);if(d<e&&c<f){let g=b.width*b.height,h=a.width*a.height,i=(e-d)*(f-c);return Number((i/(g+h-i)).toFixed(4))}return 0}(f,b);c>0&&e.push({id:d,data:{droppableContainer:a,value:c}})}}return e.sort(aD)};function aJ(a,b){return a&&b?{x:a.left-b.left,y:a.top-b.top}:aA}let aK=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.reduce((a,b)=>({...a,top:a.top+ +b.y,bottom:a.bottom+ +b.y,left:a.left+ +b.x,right:a.right+ +b.x}),{...a})},aL={ignoreTransform:!1};function aM(a,b){void 0===b&&(b=aL);let c=a.getBoundingClientRect();if(b.ignoreTransform){let{transform:b,transformOrigin:d}=Z(a).getComputedStyle(a);b&&(c=function(a,b,c){let d=function(a){if(a.startsWith("matrix3d(")){let b=a.slice(9,-1).split(/, /);return{x:+b[12],y:+b[13],scaleX:+b[0],scaleY:+b[5]}}if(a.startsWith("matrix(")){let b=a.slice(7,-1).split(/, /);return{x:+b[4],y:+b[5],scaleX:+b[0],scaleY:+b[3]}}return null}(b);if(!d)return a;let{scaleX:e,scaleY:f,x:g,y:h}=d,i=a.left-g-(1-e)*parseFloat(c),j=a.top-h-(1-f)*parseFloat(c.slice(c.indexOf(" ")+1)),k=e?a.width/e:a.width,l=f?a.height/f:a.height;return{width:k,height:l,top:j,right:i+k,bottom:j+l,left:i}}(c,b,d))}let{top:d,left:e,width:f,height:g,bottom:h,right:i}=c;return{top:d,left:e,width:f,height:g,bottom:h,right:i}}function aN(a){return aM(a,{ignoreTransform:!0})}function aO(a,b){let c=[];return a?function d(e){var f,g;let h;if(null!=b&&c.length>=b||!e)return c;if($(e)&&null!=e.scrollingElement&&!c.includes(e.scrollingElement))return c.push(e.scrollingElement),c;if(!_(e)||aa(e)||c.includes(e))return c;let i=Z(a).getComputedStyle(e);return(e!==a&&(void 0===(f=i)&&(f=Z(e).getComputedStyle(e)),h=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(a=>{let b=f[a];return"string"==typeof b&&h.test(b)}))&&c.push(e),void 0===(g=i)&&(g=Z(e).getComputedStyle(e)),"fixed"===g.position)?c:d(e.parentNode)}(a):c}function aP(a){let[b]=aO(a,1);return null!=b?b:null}function aQ(a){return X(a)?a.scrollX:a.scrollLeft}function aR(a){return X(a)?a.scrollY:a.scrollTop}function aS(a){return{x:aQ(a),y:aR(a)}}function aT(a){let b={x:0,y:0},c={height:a.clientHeight,width:a.clientWidth},d={x:a.scrollWidth-c.width,y:a.scrollHeight-c.height},e=a.scrollTop<=b.y,f=a.scrollLeft<=b.x;return{isTop:e,isLeft:f,isBottom:a.scrollTop>=d.y,isRight:a.scrollLeft>=d.x,maxScroll:d,minScroll:b}}(d=m||(m={}))[d.Forward=1]="Forward",d[d.Backward=-1]="Backward";let aU={x:.2,y:.2};function aV(a){return a.reduce((a,b)=>al(a,aS(b)),aA)}let aW=[["x",["left","right"],function(a){return a.reduce((a,b)=>a+aQ(b),0)}],["y",["top","bottom"],function(a){return a.reduce((a,b)=>a+aR(b),0)}]];class aX{constructor(a,b){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const c=aO(b),d=aV(c);for(const[b,e,f]of(this.rect={...a},this.width=a.width,this.height=a.height,aW))for(const a of e)Object.defineProperty(this,a,{get:()=>{let e=f(c),g=d[b]-e;return this.rect[a]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class aY{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var b;return null==(b=this.target)?void 0:b.removeEventListener(...a)})},this.target=a}add(a,b,c){var d;null==(d=this.target)||d.addEventListener(a,b,c),this.listeners.push([a,b,c])}}function aZ(a,b){let c=Math.abs(a.x),d=Math.abs(a.y);return"number"==typeof b?Math.sqrt(c**2+d**2)>b:"x"in b&&"y"in b?c>b.x&&d>b.y:"x"in b?c>b.x:"y"in b&&d>b.y}function a$(a){a.preventDefault()}function a_(a){a.stopPropagation()}(e=n||(n={})).Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange",(f=o||(o={})).Space="Space",f.Down="ArrowDown",f.Right="ArrowRight",f.Left="ArrowLeft",f.Up="ArrowUp",f.Esc="Escape",f.Enter="Enter",f.Tab="Tab";let a0={start:[o.Space,o.Enter],cancel:[o.Esc],end:[o.Space,o.Enter,o.Tab]},a1=(a,b)=>{let{currentCoordinates:c}=b;switch(a.code){case o.Right:return{...c,x:c.x+25};case o.Left:return{...c,x:c.x-25};case o.Down:return{...c,y:c.y+25};case o.Up:return{...c,y:c.y-25}}};class a2{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;const{event:{target:b}}=a;this.props=a,this.listeners=new aY(ab(b)),this.windowListeners=new aY(Z(b)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(n.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:a,onStart:b}=this.props,c=a.node.current;c&&function(a,b){if(void 0===b&&(b=aM),!a)return;let{top:c,left:d,bottom:e,right:f}=b(a);aP(a)&&(e<=0||f<=0||c>=window.innerHeight||d>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}(c),b(aA)}handleKeyDown(a){if(an(a)){let{active:b,context:c,options:d}=this.props,{keyboardCodes:e=a0,coordinateGetter:f=a1,scrollBehavior:g="smooth"}=d,{code:h}=a;if(e.end.includes(h))return void this.handleEnd(a);if(e.cancel.includes(h))return void this.handleCancel(a);let{collisionRect:i}=c.current,j=i?{x:i.left,y:i.top}:aA;this.referenceCoordinates||(this.referenceCoordinates=j);let k=f(a,{active:b,context:c.current,currentCoordinates:j});if(k){let b=am(k,j),d={x:0,y:0},{scrollableAncestors:e}=c.current;for(let c of e){let e=a.code,{isTop:f,isRight:h,isLeft:i,isBottom:j,maxScroll:l,minScroll:m}=aT(c),n=function(a){if(a===document.scrollingElement){let{innerWidth:a,innerHeight:b}=window;return{top:0,left:0,right:a,bottom:b,width:a,height:b}}let{top:b,left:c,right:d,bottom:e}=a.getBoundingClientRect();return{top:b,left:c,right:d,bottom:e,width:a.clientWidth,height:a.clientHeight}}(c),p={x:Math.min(e===o.Right?n.right-n.width/2:n.right,Math.max(e===o.Right?n.left:n.left+n.width/2,k.x)),y:Math.min(e===o.Down?n.bottom-n.height/2:n.bottom,Math.max(e===o.Down?n.top:n.top+n.height/2,k.y))},q=e===o.Right&&!h||e===o.Left&&!i,r=e===o.Down&&!j||e===o.Up&&!f;if(q&&p.x!==k.x){let a=c.scrollLeft+b.x,f=e===o.Right&&a<=l.x||e===o.Left&&a>=m.x;if(f&&!b.y)return void c.scrollTo({left:a,behavior:g});f?d.x=c.scrollLeft-a:d.x=e===o.Right?c.scrollLeft-l.x:c.scrollLeft-m.x,d.x&&c.scrollBy({left:-d.x,behavior:g});break}if(r&&p.y!==k.y){let a=c.scrollTop+b.y,f=e===o.Down&&a<=l.y||e===o.Up&&a>=m.y;if(f&&!b.x)return void c.scrollTo({top:a,behavior:g});f?d.y=c.scrollTop-a:d.y=e===o.Down?c.scrollTop-l.y:c.scrollTop-m.y,d.y&&c.scrollBy({top:-d.y,behavior:g});break}}this.handleMove(a,al(am(k,this.referenceCoordinates),d))}}}handleMove(a,b){let{onMove:c}=this.props;a.preventDefault(),c(b)}handleEnd(a){let{onEnd:b}=this.props;a.preventDefault(),this.detach(),b()}handleCancel(a){let{onCancel:b}=this.props;a.preventDefault(),this.detach(),b()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function a3(a){return!!(a&&"distance"in a)}function a4(a){return!!(a&&"delay"in a)}a2.activators=[{eventName:"onKeyDown",handler:(a,b,c)=>{let{keyboardCodes:d=a0,onActivation:e}=b,{active:f}=c,{code:g}=a.nativeEvent;if(d.start.includes(g)){let b=f.activatorNode.current;return(!b||a.target===b)&&(a.preventDefault(),null==e||e({event:a.nativeEvent}),!0)}return!1}}];class a5{constructor(a,b,c){var d;void 0===c&&(c=function(a){let{EventTarget:b}=Z(a);return a instanceof b?a:ab(a)}(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=b;const{event:e}=a,{target:f}=e;this.props=a,this.events=b,this.document=ab(f),this.documentListeners=new aY(this.document),this.listeners=new aY(c),this.windowListeners=new aY(Z(f)),this.initialCoordinates=null!=(d=ao(e))?d:aA,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:a,props:{options:{activationConstraint:b,bypassActivationConstraint:c}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),a.cancel&&this.listeners.add(a.cancel.name,this.handleCancel),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.DragStart,a$),this.windowListeners.add(n.VisibilityChange,this.handleCancel),this.windowListeners.add(n.ContextMenu,a$),this.documentListeners.add(n.Keydown,this.handleKeydown),b){if(null!=c&&c({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(a4(b)){this.timeoutId=setTimeout(this.handleStart,b.delay),this.handlePending(b);return}if(a3(b))return void this.handlePending(b)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(a,b){let{active:c,onPending:d}=this.props;d(c,a,this.initialCoordinates,b)}handleStart(){let{initialCoordinates:a}=this,{onStart:b}=this.props;a&&(this.activated=!0,this.documentListeners.add(n.Click,a_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(n.SelectionChange,this.removeTextSelection),b(a))}handleMove(a){var b;let{activated:c,initialCoordinates:d,props:e}=this,{onMove:f,options:{activationConstraint:g}}=e;if(!d)return;let h=null!=(b=ao(a))?b:aA,i=am(d,h);if(!c&&g){if(a3(g)){if(null!=g.tolerance&&aZ(i,g.tolerance))return this.handleCancel();if(aZ(i,g.distance))return this.handleStart()}return a4(g)&&aZ(i,g.tolerance)?this.handleCancel():void this.handlePending(g,i)}a.cancelable&&a.preventDefault(),f(h)}handleEnd(){let{onAbort:a,onEnd:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleCancel(){let{onAbort:a,onCancel:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleKeydown(a){a.code===o.Esc&&this.handleCancel()}removeTextSelection(){var a;null==(a=this.document.getSelection())||a.removeAllRanges()}}let a6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class a7 extends a5{constructor(a){const{event:b}=a;super(a,a6,ab(b.target))}}a7.activators=[{eventName:"onPointerDown",handler:(a,b)=>{let{nativeEvent:c}=a,{onActivation:d}=b;return!!c.isPrimary&&0===c.button&&(null==d||d({event:c}),!0)}}];(g=p||(p={}))[g.RightClick=2]="RightClick";(h=q||(q={}))[h.Pointer=0]="Pointer",h[h.DraggableRect=1]="DraggableRect",(i=r||(r={}))[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder";let a8={x:{[m.Backward]:!1,[m.Forward]:!1},y:{[m.Backward]:!1,[m.Forward]:!1}};(j=s||(s={}))[j.Always=0]="Always",j[j.BeforeDragging=1]="BeforeDragging",j[j.WhileDragging=2]="WhileDragging",(t||(t={})).Optimized="optimized";let a9=new Map;function ba(a,b){return af(c=>a?c||("function"==typeof b?b(a):a):null,[b,a])}function bb(a){let{callback:b,disabled:c}=a;ad(b);let d=(0,w.useMemo)(()=>{},[c]);return(0,w.useEffect)(()=>()=>null==d?void 0:d.disconnect(),[d]),d}function bc(a){return new aX(aM(a),a)}function bd(a,b,c){void 0===b&&(b=bc);let[d,e]=(0,w.useState)(null);function f(){e(d=>{if(!a)return null;if(!1===a.isConnected){var e;return null!=(e=null!=d?d:c)?e:null}let f=b(a);return JSON.stringify(d)===JSON.stringify(f)?d:f})}let g=function(a){let{callback:b,disabled:c}=a,d=ad(b),e=(0,w.useMemo)(()=>{},[d,c]);return(0,w.useEffect)(()=>()=>null==e?void 0:e.disconnect(),[e]),e}({callback(b){if(a)for(let c of b){let{type:b,target:d}=c;if("childList"===b&&d instanceof HTMLElement&&d.contains(a)){f();break}}}}),h=bb({callback:f});return ac(()=>{f(),a?(null==h||h.observe(a),null==g||g.observe(document.body,{childList:!0,subtree:!0})):(null==h||h.disconnect(),null==g||g.disconnect())},[a]),d}let be=[];function bf(a,b){void 0===b&&(b=[]);let c=(0,w.useRef)(null);return(0,w.useEffect)(()=>{c.current=null},b),(0,w.useEffect)(()=>{let b=a!==aA;b&&!c.current&&(c.current=a),!b&&c.current&&(c.current=null)},[a]),c.current?am(a,c.current):aA}function bg(a){return(0,w.useMemo)(()=>{let b,c;return a?(b=a.innerWidth,{top:0,left:0,right:b,bottom:c=a.innerHeight,width:b,height:c}):null},[a])}let bh=[],bi=[{sensor:a7,options:{}},{sensor:a2,options:{}}],bj={current:{}},bk={draggable:{measure:aN},droppable:{measure:aN,strategy:s.WhileDragging,frequency:t.Optimized},dragOverlay:{measure:aM}};class bl extends Map{get(a){var b;return null!=a&&null!=(b=super.get(a))?b:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{let{disabled:b}=a;return!b})}getNodeFor(a){var b,c;return null!=(b=null==(c=this.get(a))?void 0:c.node.current)?b:void 0}}let bm={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ay},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bk,measureDroppableContainers:ay,windowRect:null,measuringScheduled:!1},bn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ay,draggableNodes:new Map,over:null,measureDroppableContainers:ay},bo=(0,w.createContext)(bn),bp=(0,w.createContext)(bm);function bq(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bl}}}function br(a,b){switch(b.type){case l.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:b.initialCoordinates,active:b.active}};case l.DragMove:if(null==a.draggable.active)return a;return{...a,draggable:{...a.draggable,translate:{x:b.coordinates.x-a.draggable.initialCoordinates.x,y:b.coordinates.y-a.draggable.initialCoordinates.y}}};case l.DragEnd:case l.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case l.RegisterDroppable:{let{element:c}=b,{id:d}=c,e=new bl(a.droppable.containers);return e.set(d,c),{...a,droppable:{...a.droppable,containers:e}}}case l.SetDroppableDisabled:{let{id:c,key:d,disabled:e}=b,f=a.droppable.containers.get(c);if(!f||d!==f.key)return a;let g=new bl(a.droppable.containers);return g.set(c,{...f,disabled:e}),{...a,droppable:{...a.droppable,containers:g}}}case l.UnregisterDroppable:{let{id:c,key:d}=b,e=a.droppable.containers.get(c);if(!e||d!==e.key)return a;let f=new bl(a.droppable.containers);return f.delete(c),{...a,droppable:{...a.droppable,containers:f}}}default:return a}}function bs(a){let{disabled:b}=a,{active:c,activatorEvent:d,draggableNodes:e}=(0,w.useContext)(bo),f=ah(d),g=ah(null==c?void 0:c.id);return(0,w.useEffect)(()=>{if(!b&&!d&&f&&null!=g){if(!an(f)||document.activeElement===f.target)return;let a=e.get(g);if(!a)return;let{activatorNode:b,node:c}=a;(b.current||c.current)&&requestAnimationFrame(()=>{for(let a of[b.current,c.current]){if(!a)continue;let b=a.matches(aq)?a:a.querySelector(aq);if(b){b.focus();break}}})}},[d,b,e,g,f]),null}let bt=(0,w.createContext)({...aA,scaleX:1,scaleY:1});(k=u||(u={}))[k.Uninitialized=0]="Uninitialized",k[k.Initializing=1]="Initializing",k[k.Initialized=2]="Initialized";let bu=(0,w.memo)(function(a){var b,c,d,e,f,g,h,i;let j,k,n,o,p,t,v,x,{id:y,accessibility:z,autoScroll:A=!0,children:B,sensors:C=bi,collisionDetection:D=aI,measuring:E,modifiers:F,...G}=a,[H,I]=(0,w.useReducer)(br,void 0,bq),[J,K]=function(){let[a]=(0,w.useState)(()=>new Set),b=(0,w.useCallback)(b=>(a.add(b),()=>a.delete(b)),[a]);return[(0,w.useCallback)(b=>{let{type:c,event:d}=b;a.forEach(a=>{var b;return null==(b=a[c])?void 0:b.call(a,d)})},[a]),b]}(),[L,M]=(0,w.useState)(u.Uninitialized),N=L===u.Initialized,{draggable:{active:O,nodes:P,translate:Q},droppable:{containers:R}}=H,S=null!=O?P.get(O):null,T=(0,w.useRef)({initial:null,translated:null}),U=(0,w.useMemo)(()=>{var a;return null!=O?{id:O,data:null!=(a=null==S?void 0:S.data)?a:bj,rect:T}:null},[O,S]),V=(0,w.useRef)(null),[X,Y]=(0,w.useState)(null),[$,aa]=(0,w.useState)(null),ab=ae(G,Object.values(G)),ad=aj("DndDescribedBy",y),ai=(0,w.useMemo)(()=>R.getEnabled(),[R]),ak=(0,w.useMemo)(()=>({draggable:{...bk.draggable,...null==E?void 0:E.draggable},droppable:{...bk.droppable,...null==E?void 0:E.droppable},dragOverlay:{...bk.dragOverlay,...null==E?void 0:E.dragOverlay}}),[null==E?void 0:E.draggable,null==E?void 0:E.droppable,null==E?void 0:E.dragOverlay]),{droppableRects:am,measureDroppableContainers:an,measuringScheduled:ap}=function(a,b){let{dragging:c,dependencies:d,config:e}=b,[f,g]=(0,w.useState)(null),{frequency:h,measure:i,strategy:j}=e,k=(0,w.useRef)(a),l=function(){switch(j){case s.Always:return!1;case s.BeforeDragging:return c;default:return!c}}(),m=ae(l),n=(0,w.useCallback)(function(a){void 0===a&&(a=[]),m.current||g(b=>null===b?a:b.concat(a.filter(a=>!b.includes(a))))},[m]),o=(0,w.useRef)(null),p=af(b=>{if(l&&!c)return a9;if(!b||b===a9||k.current!==a||null!=f){let b=new Map;for(let c of a){if(!c)continue;if(f&&f.length>0&&!f.includes(c.id)&&c.rect.current){b.set(c.id,c.rect.current);continue}let a=c.node.current,d=a?new aX(i(a),a):null;c.rect.current=d,d&&b.set(c.id,d)}return b}return b},[a,f,c,l,i]);return(0,w.useEffect)(()=>{k.current=a},[a]),(0,w.useEffect)(()=>{l||n()},[c,l]),(0,w.useEffect)(()=>{f&&f.length>0&&g(null)},[JSON.stringify(f)]),(0,w.useEffect)(()=>{l||"number"!=typeof h||null!==o.current||(o.current=setTimeout(()=>{n(),o.current=null},h))},[h,l,n,...d]),{droppableRects:p,measureDroppableContainers:n,measuringScheduled:null!=f}}(ai,{dragging:N,dependencies:[Q.x,Q.y],config:ak.droppable}),aq=af(a=>{var b;return null==O?null:null!=(b=null!=p?p:a)?b:null},[p=(o=null!=O?P.get(O):void 0)?o.node.current:null,O]),ar=(0,w.useMemo)(()=>$?ao($):null,[$]),as=(j=(null==X?void 0:X.autoScrollEnabled)===!1,k="object"==typeof A?!1===A.enabled:!1===A,n=N&&!j&&!k,"object"==typeof A?{...A,enabled:n}:{enabled:n}),at=ba(aq,ak.draggable.measure);!function(a){let{activeNode:b,measure:c,initialRect:d,config:e=!0}=a,f=(0,w.useRef)(!1),{x:g,y:h}="boolean"==typeof e?{x:e,y:e}:e;ac(()=>{if(!g&&!h||!b){f.current=!1;return}if(f.current||!d)return;let a=null==b?void 0:b.node.current;if(!a||!1===a.isConnected)return;let e=aJ(c(a),d);if(g||(e.x=0),h||(e.y=0),f.current=!0,Math.abs(e.x)>0||Math.abs(e.y)>0){let b=aP(a);b&&b.scrollBy({top:e.y,left:e.x})}},[b,g,h,d,c])}({activeNode:null!=O?P.get(O):null,config:as.layoutShiftCompensation,initialRect:at,measure:ak.draggable.measure});let av=bd(aq,ak.draggable.measure,at),aw=bd(aq?aq.parentElement:null),ay=(0,w.useRef)({activatorEvent:null,active:null,activeNode:aq,collisionRect:null,collisions:null,droppableRects:am,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),az=R.getNodeFor(null==(b=ay.current.over)?void 0:b.id),aB=function(a){let{measure:b}=a,[c,d]=(0,w.useState)(null),e=bb({callback:(0,w.useCallback)(a=>{for(let{target:c}of a)if(_(c)){d(a=>{let d=b(c);return a?{...a,width:d.width,height:d.height}:d});break}},[b])}),[f,g]=ag((0,w.useCallback)(a=>{let c=function(a){if(!a)return null;if(a.children.length>1)return a;let b=a.children[0];return _(b)?b:a}(a);null==e||e.disconnect(),c&&(null==e||e.observe(c)),d(c?b(c):null)},[b,e]));return(0,w.useMemo)(()=>({nodeRef:f,rect:c,setRef:g}),[c,f,g])}({measure:ak.dragOverlay.measure}),aC=null!=(c=aB.nodeRef.current)?c:aq,aD=N?null!=(d=aB.rect)?d:av:null,aE=!!(aB.nodeRef.current&&aB.rect),aG=(t=ba(f=aE?null:av),aJ(f,t)),aH=bg(aC?Z(aC):null),aL=(g=N?null!=az?az:aq:null,v=(0,w.useRef)(g),x=af(a=>g?a&&a!==be&&g&&v.current&&g.parentNode===v.current.parentNode?a:aO(g):be,[g]),(0,w.useEffect)(()=>{v.current=g},[g]),x),aN=function(a,b){void 0===b&&(b=aM);let[c]=a,d=bg(c?Z(c):null),[e,f]=(0,w.useState)(bh);function g(){f(()=>a.length?a.map(a=>new aX(b(a),a)):bh)}let h=bb({callback:g});return ac(()=>{null==h||h.disconnect(),g(),a.forEach(a=>null==h?void 0:h.observe(a))},[a]),e}(aL),aQ=function(a,b){let{transform:c,...d}=b;return null!=a&&a.length?a.reduce((a,b)=>b({transform:a,...d}),c):c}(F,{transform:{x:Q.x-aG.x,y:Q.y-aG.y,scaleX:1,scaleY:1},activatorEvent:$,active:U,activeNodeRect:av,containerNodeRect:aw,draggingNodeRect:aD,over:ay.current.over,overlayNodeRect:aB.rect,scrollableAncestors:aL,scrollableAncestorRects:aN,windowRect:aH}),aR=ar?al(ar,Q):null,aW=function(a){let[b,c]=(0,w.useState)(null),d=(0,w.useRef)(a),e=(0,w.useCallback)(a=>{var b;let d=(b=a.target,null);d&&c(a=>a?(a.set(d,aS(d)),new Map(a)):null)},[]);return(0,w.useEffect)(()=>{let b=d.current;if(a!==b){f(b);let g=a.map(a=>{var b;let c=(b=0,null);return c?(c.addEventListener("scroll",e,{passive:!0}),[c,aS(c)]):null}).filter(a=>null!=a);c(g.length?new Map(g):null),d.current=a}return()=>{f(a),f(b)};function f(a){a.forEach(a=>{let b=null;null==b||b.removeEventListener("scroll",e)})}},[e,a]),(0,w.useMemo)(()=>a.length?b?Array.from(b.values()).reduce((a,b)=>al(a,b),aA):aV(a):aA,[a,b])}(aL),aY=bf(aW),aZ=bf(aW,[av]),a$=al(aQ,aY),a_=aD?aK(aD,aQ):null,a0=U&&a_?D({active:U,collisionRect:a_,droppableRects:am,droppableContainers:ai,pointerCoordinates:aR}):null,a1=aF(a0,"id"),[a2,a3]=(0,w.useState)(null),a4=(h=aE?aQ:al(aQ,aZ),i=null!=(e=null==a2?void 0:a2.rect)?e:null,{...h,scaleX:i&&av?i.width/av.width:1,scaleY:i&&av?i.height/av.height:1}),a5=(0,w.useRef)(null),a6=(0,w.useCallback)((a,b)=>{let{sensor:c,options:d}=b;if(null==V.current)return;let e=P.get(V.current);if(!e)return;let f=a.nativeEvent,g=new c({active:V.current,activeNode:e,event:f,options:d,context:ay,onAbort(a){if(!P.get(a))return;let{onDragAbort:b}=ab.current,c={id:a};null==b||b(c),J({type:"onDragAbort",event:c})},onPending(a,b,c,d){if(!P.get(a))return;let{onDragPending:e}=ab.current,f={id:a,constraint:b,initialCoordinates:c,offset:d};null==e||e(f),J({type:"onDragPending",event:f})},onStart(a){let b=V.current;if(null==b)return;let c=P.get(b);if(!c)return;let{onDragStart:d}=ab.current,e={activatorEvent:f,active:{id:b,data:c.data,rect:T}};(0,W.unstable_batchedUpdates)(()=>{null==d||d(e),M(u.Initializing),I({type:l.DragStart,initialCoordinates:a,active:b}),J({type:"onDragStart",event:e}),Y(a5.current),aa(f)})},onMove(a){I({type:l.DragMove,coordinates:a})},onEnd:h(l.DragEnd),onCancel:h(l.DragCancel)});function h(a){return async function(){let{active:b,collisions:c,over:d,scrollAdjustedTranslate:e}=ay.current,g=null;if(b&&e){let{cancelDrop:h}=ab.current;g={activatorEvent:f,active:b,collisions:c,delta:e,over:d},a===l.DragEnd&&"function"==typeof h&&await Promise.resolve(h(g))&&(a=l.DragCancel)}V.current=null,(0,W.unstable_batchedUpdates)(()=>{I({type:a}),M(u.Uninitialized),a3(null),Y(null),aa(null),a5.current=null;let b=a===l.DragEnd?"onDragEnd":"onDragCancel";if(g){let a=ab.current[b];null==a||a(g),J({type:b,event:g})}})}}a5.current=g},[P]),a7=(0,w.useCallback)((a,b)=>(c,d)=>{let e=c.nativeEvent,f=P.get(d);null!==V.current||!f||e.dndKit||e.defaultPrevented||!0===a(c,b.options,{active:f})&&(e.dndKit={capturedBy:b.sensor},V.current=d,a6(c,b))},[P,a6]),bc=(0,w.useMemo)(()=>C.reduce((a,b)=>{let{sensor:c}=b;return[...a,...c.activators.map(a=>({eventName:a.eventName,handler:a7(a.handler,b)}))]},[]),[C,a7]);(0,w.useEffect)(()=>{},C.map(a=>{let{sensor:b}=a;return b})),ac(()=>{av&&L===u.Initializing&&M(u.Initialized)},[av,L]),(0,w.useEffect)(()=>{let{onDragMove:a}=ab.current,{active:b,activatorEvent:c,collisions:d,over:e}=ay.current;if(!b||!c)return;let f={active:b,activatorEvent:c,collisions:d,delta:{x:a$.x,y:a$.y},over:e};(0,W.unstable_batchedUpdates)(()=>{null==a||a(f),J({type:"onDragMove",event:f})})},[a$.x,a$.y]),(0,w.useEffect)(()=>{let{active:a,activatorEvent:b,collisions:c,droppableContainers:d,scrollAdjustedTranslate:e}=ay.current;if(!a||null==V.current||!b||!e)return;let{onDragOver:f}=ab.current,g=d.get(a1),h=g&&g.rect.current?{id:g.id,rect:g.rect.current,data:g.data,disabled:g.disabled}:null,i={active:a,activatorEvent:b,collisions:c,delta:{x:e.x,y:e.y},over:h};(0,W.unstable_batchedUpdates)(()=>{a3(h),null==f||f(i),J({type:"onDragOver",event:i})})},[a1]),ac(()=>{ay.current={activatorEvent:$,active:U,activeNode:aq,collisionRect:a_,collisions:a0,droppableRects:am,draggableNodes:P,draggingNode:aC,draggingNodeRect:aD,droppableContainers:R,over:a2,scrollableAncestors:aL,scrollAdjustedTranslate:a$},T.current={initial:aD,translated:a_}},[U,aq,a0,a_,P,aC,aD,am,R,a2,aL,a$]),function(a){let b,{acceleration:c,activator:d=q.Pointer,canScroll:e,draggingRect:f,enabled:g,interval:h=5,order:i=r.TreeOrder,pointerCoordinates:j,scrollableAncestors:k,scrollableAncestorRects:l,delta:n,threshold:o}=a,p=function(a){let{delta:b,disabled:c}=a,d=ah(b);return af(a=>{if(c||!d||!a)return a8;let e={x:Math.sign(b.x-d.x),y:Math.sign(b.y-d.y)};return{x:{[m.Backward]:a.x[m.Backward]||-1===e.x,[m.Forward]:a.x[m.Forward]||1===e.x},y:{[m.Backward]:a.y[m.Backward]||-1===e.y,[m.Forward]:a.y[m.Forward]||1===e.y}}},[c,b,d])}({delta:n,disabled:!g}),[s,t]=(b=(0,w.useRef)(null),[(0,w.useCallback)((a,c)=>{b.current=setInterval(a,c)},[]),(0,w.useCallback)(()=>{null!==b.current&&(clearInterval(b.current),b.current=null)},[])]),u=(0,w.useRef)({x:0,y:0}),v=(0,w.useRef)({x:0,y:0}),x=(0,w.useMemo)(()=>{switch(d){case q.Pointer:return j?{top:j.y,bottom:j.y,left:j.x,right:j.x}:null;case q.DraggableRect:return f}},[d,f,j]),y=(0,w.useRef)(null),z=(0,w.useCallback)(()=>{let a=y.current;if(!a)return;let b=u.current.x*v.current.x,c=u.current.y*v.current.y;a.scrollBy(b,c)},[]),A=(0,w.useMemo)(()=>i===r.TreeOrder?[...k].reverse():k,[i,k]);(0,w.useEffect)(()=>{if(!g||!k.length||!x)return void t();for(let a of A){if((null==e?void 0:e(a))===!1)continue;let b=l[k.indexOf(a)];if(!b)continue;let{direction:d,speed:f}=function(a,b,c,d,e){let{top:f,left:g,right:h,bottom:i}=c;void 0===d&&(d=10),void 0===e&&(e=aU);let{isTop:j,isBottom:k,isLeft:l,isRight:n}=aT(a),o={x:0,y:0},p={x:0,y:0},q={height:b.height*e.y,width:b.width*e.x};return!j&&f<=b.top+q.height?(o.y=m.Backward,p.y=d*Math.abs((b.top+q.height-f)/q.height)):!k&&i>=b.bottom-q.height&&(o.y=m.Forward,p.y=d*Math.abs((b.bottom-q.height-i)/q.height)),!n&&h>=b.right-q.width?(o.x=m.Forward,p.x=d*Math.abs((b.right-q.width-h)/q.width)):!l&&g<=b.left+q.width&&(o.x=m.Backward,p.x=d*Math.abs((b.left+q.width-g)/q.width)),{direction:o,speed:p}}(a,b,x,c,o);for(let a of["x","y"])p[a][d[a]]||(f[a]=0,d[a]=0);if(f.x>0||f.y>0){t(),y.current=a,s(z,h),u.current=f,v.current=d;return}}u.current={x:0,y:0},v.current={x:0,y:0},t()},[c,z,e,t,g,h,JSON.stringify(x),JSON.stringify(p),s,k,A,l,JSON.stringify(o)])}({...as,delta:Q,draggingRect:a_,pointerCoordinates:aR,scrollableAncestors:aL,scrollableAncestorRects:aN});let bl=(0,w.useMemo)(()=>({active:U,activeNode:aq,activeNodeRect:av,activatorEvent:$,collisions:a0,containerNodeRect:aw,dragOverlay:aB,draggableNodes:P,droppableContainers:R,droppableRects:am,over:a2,measureDroppableContainers:an,scrollableAncestors:aL,scrollableAncestorRects:aN,measuringConfiguration:ak,measuringScheduled:ap,windowRect:aH}),[U,aq,av,$,a0,aw,aB,P,R,am,a2,an,aL,aN,ak,ap,aH]),bm=(0,w.useMemo)(()=>({activatorEvent:$,activators:bc,active:U,activeNodeRect:av,ariaDescribedById:{draggable:ad},dispatch:I,draggableNodes:P,over:a2,measureDroppableContainers:an}),[$,bc,U,av,I,ad,P,a2,an]);return w.default.createElement(au.Provider,{value:K},w.default.createElement(bo.Provider,{value:bm},w.default.createElement(bp.Provider,{value:bl},w.default.createElement(bt.Provider,{value:a4},B)),w.default.createElement(bs,{disabled:(null==z?void 0:z.restoreFocus)===!1})),w.default.createElement(ax,{...z,hiddenTextDescribedById:ad}))}),bv=(0,w.createContext)(null),bw="button",bx={timeout:25},by={position:"fixed",touchAction:"none"},bz=a=>an(a)?"transform 250ms ease":void 0;function bA(a,b,c){let d=a.slice();return d.splice(c<0?d.length+c:c,0,d.splice(b,1)[0]),d}function bB(a){return null!==a&&a>=0}b={styles:{active:{opacity:"0"}}},a=>{let{active:c,dragOverlay:d}=a,e={},{styles:f,className:g}=b;if(null!=f&&f.active)for(let[a,b]of Object.entries(f.active))void 0!==b&&(e[a]=c.node.style.getPropertyValue(a),c.node.style.setProperty(a,b));if(null!=f&&f.dragOverlay)for(let[a,b]of Object.entries(f.dragOverlay))void 0!==b&&d.node.style.setProperty(a,b);return null!=g&&g.active&&c.node.classList.add(g.active),null!=g&&g.dragOverlay&&d.node.classList.add(g.dragOverlay),function(){for(let[a,b]of Object.entries(e))c.node.style.setProperty(a,b);null!=g&&g.active&&c.node.classList.remove(g.active)}};let bC=a=>{let{rects:b,activeIndex:c,overIndex:d,index:e}=a,f=bA(b,d,c),g=b[e],h=f[e];return h&&g?{x:h.left-g.left,y:h.top-g.top,scaleX:h.width/g.width,scaleY:h.height/g.height}:null},bD={scaleX:1,scaleY:1},bE=a=>{var b,c,d,e;let f,g,h,{activeIndex:i,activeNodeRect:j,index:k,rects:l,overIndex:m}=a,n=null!=(b=l[i])?b:j;if(!n)return null;if(k===i){let a=l[m];return a?{x:0,y:i<m?a.top+a.height-(n.top+n.height):a.top-n.top,...bD}:null}let o=(c=l,d=k,e=i,f=c[d],g=c[d-1],h=c[d+1],f?e<d?g?f.top-(g.top+g.height):h?h.top-(f.top+f.height):0:h?h.top-(f.top+f.height):g?f.top-(g.top+g.height):0:0);return k>i&&k<=m?{x:0,y:-n.height-o,...bD}:k<i&&k>=m?{x:0,y:n.height+o,...bD}:{x:0,y:0,...bD}},bF="Sortable",bG=w.default.createContext({activeIndex:-1,containerId:bF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bC,disabled:{draggable:!1,droppable:!1}});function bH(a){let{children:b,id:c,items:d,strategy:e=bC,disabled:f=!1}=a,{active:g,dragOverlay:h,droppableRects:i,over:j,measureDroppableContainers:k}=(0,w.useContext)(bp),l=aj(bF,c),m=null!==h.rect,n=(0,w.useMemo)(()=>d.map(a=>"object"==typeof a&&"id"in a?a.id:a),[d]),o=null!=g,p=g?n.indexOf(g.id):-1,q=j?n.indexOf(j.id):-1,r=(0,w.useRef)(n),s=!function(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}(n,r.current),t=-1!==q&&-1===p||s,u="boolean"==typeof f?{draggable:f,droppable:f}:f;ac(()=>{s&&o&&k(n)},[s,n,o,k]),(0,w.useEffect)(()=>{r.current=n},[n]);let v=(0,w.useMemo)(()=>({activeIndex:p,containerId:l,disabled:u,disableTransforms:t,items:n,overIndex:q,useDragOverlay:m,sortedRects:n.reduce((a,b,c)=>{let d=i.get(b);return d&&(a[c]=d),a},Array(n.length)),strategy:e}),[p,l,u.draggable,u.droppable,t,n,q,i,m,e]);return w.default.createElement(bG.Provider,{value:v},b)}let bI=a=>{let{id:b,items:c,activeIndex:d,overIndex:e}=a;return bA(c,d,e).indexOf(b)},bJ=a=>{let{containerId:b,isSorting:c,wasDragging:d,index:e,items:f,newIndex:g,previousItems:h,previousContainerId:i,transition:j}=a;return!!j&&!!d&&(h===f||e!==g)&&(!!c||g!==e&&b===i)},bK={duration:200,easing:"ease"},bL="transform",bM=ap.Transition.toString({property:bL,duration:0,easing:"linear"}),bN={roleDescription:"sortable"};function bO(a){if(!a)return!1;let b=a.data.current;return!!b&&"sortable"in b&&"object"==typeof b.sortable&&"containerId"in b.sortable&&"items"in b.sortable&&"index"in b.sortable}let bP=[o.Down,o.Right,o.Up,o.Left],bQ=(a,b)=>{let{context:{active:c,collisionRect:d,droppableRects:e,droppableContainers:f,over:g,scrollableAncestors:h}}=b;if(bP.includes(a.code)){if(a.preventDefault(),!c||!d)return;let b=[];f.getEnabled().forEach(c=>{if(!c||null!=c&&c.disabled)return;let f=e.get(c.id);if(f)switch(a.code){case o.Down:d.top<f.top&&b.push(c);break;case o.Up:d.top>f.top&&b.push(c);break;case o.Left:d.left>f.left&&b.push(c);break;case o.Right:d.left<f.left&&b.push(c)}});let k=(a=>{let{collisionRect:b,droppableRects:c,droppableContainers:d}=a,e=aE(b),f=[];for(let a of d){let{id:b}=a,d=c.get(b);if(d){let c=aE(d),g=Number((e.reduce((a,b,d)=>a+aB(c[d],b),0)/4).toFixed(4));f.push({id:b,data:{droppableContainer:a,value:g}})}}return f.sort(aC)})({active:c,collisionRect:d,droppableRects:e,droppableContainers:b,pointerCoordinates:null}),l=aF(k,"id");if(l===(null==g?void 0:g.id)&&k.length>1&&(l=k[1].id),null!=l){let a=f.get(c.id),b=f.get(l),g=b?e.get(b.id):null,k=null==b?void 0:b.node.current;if(k&&g&&a&&b){var i,j;let c=aO(k).some((a,b)=>h[b]!==a),e=bR(a,b),f=(i=a,j=b,!!bO(i)&&!!bO(j)&&!!bR(i,j)&&i.data.current.sortable.index<j.data.current.sortable.index),l=c||!e?{x:0,y:0}:{x:f?d.width-g.width:0,y:f?d.height-g.height:0},m={x:g.left,y:g.top};return l.x&&l.y?m:am(m,l)}}}};function bR(a,b){return!!bO(a)&&!!bO(b)&&a.data.current.sortable.containerId===b.data.current.sortable.containerId}var bS=a.i(47341),bT=a.i(75993),bU=a.i(94027);function bV({value:a,onChange:b,className:c,placeholder:d,multiline:e}){let f=(0,w.useRef)(null),[g,h]=(0,w.useState)(!1);return(0,w.useEffect)(()=>{f.current&&!g&&(f.current.textContent=a||"")},[a,g]),(0,v.jsx)(e?"p":"span",{ref:f,contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>h(!0),onBlur:()=>{h(!1);let c=f.current?.textContent||"";c!==a&&b(c)},onKeyDown:a=>{"Enter"!==a.key||e||(a.preventDefault(),f.current?.blur())},className:(0,bU.cn)("outline-none transition-colors","focus:ring-2 focus:ring-primary/20 focus:rounded-lg focus:px-1 focus:-mx-1",!a&&"text-muted-foreground/50",c),"data-placeholder":d})}var bW=a.i(50534);function bX({block:a,onUpdate:b}){switch(a.type){case"hero":return(0,v.jsx)(bY,{data:a.data,onUpdate:b});case"text-image":return(0,v.jsx)(bZ,{data:a.data,onUpdate:b});case"gallery":return(0,v.jsx)(b$,{data:a.data,onUpdate:b});case"posts-feed":return(0,v.jsx)(b_,{data:a.data});case"cta":return(0,v.jsx)(b0,{data:a.data,onUpdate:b});default:return(0,v.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Unknown block type"})}}function bY({data:a,onUpdate:b}){let c="string"==typeof a.image?a.image:null;return(0,v.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 p-12 text-center",children:[c&&(0,v.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${c})`}}),(0,v.jsxs)("div",{className:"relative z-10",children:[(0,v.jsx)(bV,{value:String(a.title||""),onChange:a=>b({title:a}),className:"mb-4 text-4xl font-bold",placeholder:"Hero Title"}),(0,v.jsx)(bV,{value:String(a.subtitle||""),onChange:a=>b({subtitle:a}),className:"text-lg text-muted-foreground",placeholder:"Hero subtitle"})]})]})}function bZ({data:a,onUpdate:b}){let c="right"===a.imagePosition;return(0,v.jsxs)("div",{className:`flex gap-8 p-8 ${c?"flex-row":"flex-row-reverse"}`,children:[(0,v.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,v.jsx)(bV,{value:String(a.heading||""),onChange:a=>b({heading:a}),className:"text-2xl font-semibold",placeholder:"Heading"}),(0,v.jsx)(bV,{value:String(a.text||""),onChange:a=>b({text:a}),className:"text-muted-foreground",placeholder:"Add your content here...",multiline:!0})]}),(0,v.jsx)("div",{className:"w-64 shrink-0",children:(0,v.jsx)(bW.ImageUploader,{value:String(a.image||""),onChange:a=>b({image:a}),className:"aspect-[4/3] rounded-xl"})})]})}function b$({data:a,onUpdate:b}){let c=a.images||[];return(0,v.jsxs)("div",{className:"p-8",children:[(0,v.jsxs)("p",{className:"mb-4 text-sm font-medium text-muted-foreground",children:["Gallery (",c.length," images)"]}),(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[c.slice(0,6).map((a,b)=>(0,v.jsx)("div",{className:"aspect-square overflow-hidden rounded-xl bg-muted",children:(0,v.jsx)("img",{src:a||"/placeholder.svg",alt:"",className:"h-full w-full object-cover"})},b)),(0,v.jsx)(bW.ImageUploader,{value:"",onChange:a=>b({images:[...c,a]}),className:"aspect-square rounded-xl",placeholder:"Add image"})]})]})}function b_({data:a}){let b=Number(a.limit)||3;return(0,v.jsxs)("div",{className:"p-8",children:[(0,v.jsx)("p",{className:"mb-4 text-lg font-semibold",children:"Latest Posts"}),(0,v.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Array.from({length:b}).map((a,b)=>(0,v.jsxs)("div",{className:"rounded-xl border border-border p-4",children:[(0,v.jsx)("div",{className:"mb-3 aspect-video rounded-lg bg-muted"}),(0,v.jsx)("div",{className:"mb-2 h-4 w-3/4 rounded bg-muted"}),(0,v.jsx)("div",{className:"h-3 w-1/2 rounded bg-muted"})]},b))})]})}function b0({data:a,onUpdate:b}){return(0,v.jsxs)("div",{className:"rounded-xl bg-primary/10 p-12 text-center",children:[(0,v.jsx)(bV,{value:String(a.title||""),onChange:a=>b({title:a}),className:"mb-6 text-2xl font-bold",placeholder:"Call to Action Title"}),(0,v.jsx)("button",{className:"rounded-xl bg-primary px-6 py-3 font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:(0,v.jsx)(bV,{value:String(a.buttonLabel||""),onChange:a=>b({buttonLabel:a}),className:"text-inherit",placeholder:"Button Text"})})]})}function b1({block:a,isSelected:b,onSelect:c,onDelete:d,onUpdate:e}){let{attributes:f,listeners:g,setNodeRef:h,transform:i,transition:j,isDragging:k}=function(a){var b,c,d,e;let{animateLayoutChanges:f=bJ,attributes:g,disabled:h,data:i,getNewIndex:j=bI,id:k,strategy:m,resizeObserverConfig:n,transition:o=bK}=a,{items:p,containerId:q,activeIndex:r,disabled:s,disableTransforms:t,sortedRects:u,overIndex:v,useDragOverlay:x,strategy:y}=(0,w.useContext)(bG),z=(b=h,c=s,"boolean"==typeof b?{draggable:b,droppable:!1}:{draggable:null!=(d=null==b?void 0:b.draggable)?d:c.draggable,droppable:null!=(e=null==b?void 0:b.droppable)?e:c.droppable}),A=p.indexOf(k),B=(0,w.useMemo)(()=>({sortable:{containerId:q,index:A,items:p},...i}),[q,i,A,p]),C=(0,w.useMemo)(()=>p.slice(p.indexOf(k)),[p,k]),{rect:D,node:E,isOver:F,setNodeRef:G}=function(a){let{data:b,disabled:c=!1,id:d,resizeObserverConfig:e}=a,f=aj("Droppable"),{active:g,dispatch:h,over:i,measureDroppableContainers:j}=(0,w.useContext)(bo),k=(0,w.useRef)({disabled:c}),m=(0,w.useRef)(!1),n=(0,w.useRef)(null),o=(0,w.useRef)(null),{disabled:p,updateMeasurementsFor:q,timeout:r}={...bx,...e},s=ae(null!=q?q:d),t=bb({callback:(0,w.useCallback)(()=>{if(!m.current){m.current=!0;return}null!=o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{j(Array.isArray(s.current)?s.current:[s.current]),o.current=null},r)},[r]),disabled:p||!g}),[u,v]=ag((0,w.useCallback)((a,b)=>{t&&(b&&(t.unobserve(b),m.current=!1),a&&t.observe(a))},[t])),x=ae(b);return(0,w.useEffect)(()=>{t&&u.current&&(t.disconnect(),m.current=!1,t.observe(u.current))},[u,t]),(0,w.useEffect)(()=>(h({type:l.RegisterDroppable,element:{id:d,key:f,disabled:c,node:u,rect:n,data:x}}),()=>h({type:l.UnregisterDroppable,key:f,id:d})),[d]),(0,w.useEffect)(()=>{c!==k.current.disabled&&(h({type:l.SetDroppableDisabled,id:d,key:f,disabled:c}),k.current.disabled=c)},[d,f,c,h]),{active:g,rect:n,isOver:(null==i?void 0:i.id)===d,node:u,over:i,setNodeRef:v}}({id:k,data:B,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...n}}),{active:H,activatorEvent:I,activeNodeRect:J,attributes:K,setNodeRef:L,listeners:M,isDragging:N,over:O,setActivatorNodeRef:P,transform:Q}=function(a){let{id:b,data:c,disabled:d=!1,attributes:e}=a,f=aj("Draggable"),{activators:g,activatorEvent:h,active:i,activeNodeRect:j,ariaDescribedById:k,draggableNodes:l,over:m}=(0,w.useContext)(bo),{role:n=bw,roleDescription:o="draggable",tabIndex:p=0}=null!=e?e:{},q=(null==i?void 0:i.id)===b,r=(0,w.useContext)(q?bt:bv),[s,t]=ag(),[u,v]=ag(),x=(0,w.useMemo)(()=>g.reduce((a,c)=>{let{eventName:d,handler:e}=c;return a[d]=a=>{e(a,b)},a},{}),[g,b]),y=ae(c);return ac(()=>(l.set(b,{id:b,key:f,node:s,activatorNode:u,data:y}),()=>{let a=l.get(b);a&&a.key===f&&l.delete(b)}),[l,b]),{active:i,activatorEvent:h,activeNodeRect:j,attributes:(0,w.useMemo)(()=>({role:n,tabIndex:p,"aria-disabled":d,"aria-pressed":!!q&&n===bw||void 0,"aria-roledescription":o,"aria-describedby":k.draggable}),[d,n,p,q,o,k.draggable]),isDragging:q,listeners:d?void 0:x,node:s,over:m,setNodeRef:t,setActivatorNodeRef:v,transform:r}}({id:k,data:B,attributes:{...bN,...g},disabled:z.draggable}),R=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,w.useMemo)(()=>a=>{b.forEach(b=>b(a))},b)}(G,L),S=!!H,T=S&&!t&&bB(r)&&bB(v),U=!x&&N,V=U&&T?Q:null,W=T?null!=V?V:(null!=m?m:y)({rects:u,activeNodeRect:J,activeIndex:r,overIndex:v,index:A}):null,X=bB(r)&&bB(v)?j({id:k,items:p,activeIndex:r,overIndex:v}):A,Y=null==H?void 0:H.id,Z=(0,w.useRef)({activeId:Y,items:p,newIndex:X,containerId:q}),$=p!==Z.current.items,_=f({active:H,containerId:q,isDragging:N,isSorting:S,id:k,index:A,items:p,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:o,wasDragging:null!=Z.current.activeId}),aa=function(a){let{disabled:b,index:c,node:d,rect:e}=a,[f,g]=(0,w.useState)(null),h=(0,w.useRef)(c);return ac(()=>{if(!b&&c!==h.current&&d.current){let a=e.current;if(a){let b=aM(d.current,{ignoreTransform:!0}),c={x:a.left-b.left,y:a.top-b.top,scaleX:a.width/b.width,scaleY:a.height/b.height};(c.x||c.y)&&g(c)}}c!==h.current&&(h.current=c)},[b,c,d,e]),(0,w.useEffect)(()=>{f&&g(null)},[f]),f}({disabled:!_,index:A,node:E,rect:D});return(0,w.useEffect)(()=>{S&&Z.current.newIndex!==X&&(Z.current.newIndex=X),q!==Z.current.containerId&&(Z.current.containerId=q),p!==Z.current.items&&(Z.current.items=p)},[S,X,q,p]),(0,w.useEffect)(()=>{if(Y===Z.current.activeId)return;if(null!=Y&&null==Z.current.activeId){Z.current.activeId=Y;return}let a=setTimeout(()=>{Z.current.activeId=Y},50);return()=>clearTimeout(a)},[Y]),{active:H,activeIndex:r,attributes:K,data:B,rect:D,index:A,newIndex:X,items:p,isOver:F,isSorting:S,isDragging:N,listeners:M,node:E,overIndex:v,over:O,setNodeRef:R,setActivatorNodeRef:P,setDroppableNodeRef:G,setDraggableNodeRef:L,transform:null!=aa?aa:W,transition:aa||$&&Z.current.newIndex===A?bM:(!U||an(I))&&o&&(S||_)?ap.Transition.toString({...o,property:bL}):void 0}}({id:a.id}),m={transform:ap.Transform.toString(i),transition:j};return(0,v.jsxs)(y.motion.div,{ref:h,style:m,animate:{scale:k?1.02:1,opacity:k?.8:1},onClick:c,className:(0,bU.cn)("group relative cursor-pointer rounded-xl border-2 transition-colors",b?"border-primary":"border-transparent hover:border-muted",k&&"z-50 shadow-xl"),children:[(0,v.jsxs)("div",{className:"absolute -left-10 top-1/2 flex -translate-y-1/2 flex-col gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,v.jsx)("button",{...f,...g,className:"flex h-8 w-8 cursor-grab items-center justify-center rounded-lg bg-card text-muted-foreground shadow-sm hover:text-foreground active:cursor-grabbing",children:(0,v.jsx)(bT.GripVertical,{className:"h-4 w-4"})}),(0,v.jsx)(L.Button,{variant:"ghost",size:"icon",onClick:a=>{a.stopPropagation(),d()},className:"h-8 w-8 rounded-lg text-destructive hover:bg-destructive/10 hover:text-destructive",children:(0,v.jsx)(J.Trash2,{className:"h-4 w-4"})})]}),(0,v.jsx)(bX,{block:a,onUpdate:e})]})}var b2=a.i(96868);let b3=[{type:"hero",label:"Hero",description:"Large header with image"},{type:"text-image",label:"Text + Image",description:"Content with side image"},{type:"gallery",label:"Gallery",description:"Image grid display"},{type:"posts-feed",label:"Posts Feed",description:"Recent blog posts"},{type:"cta",label:"Call to Action",description:"Conversion section"}];function b4({blocks:a,selectedBlockId:b,onSelect:c,onReorder:d,onAddBlock:e,onDeleteBlock:f,onBlockUpdate:g}){let[h,i]=(0,w.useState)(!1),[j,k]=(0,w.useState)(),l=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,w.useMemo)(()=>[...b].filter(a=>null!=a),[...b])}(az(a7),az(a2,{coordinateGetter:bQ}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(bu,{sensors:l,collisionDetection:aH,onDragEnd:b=>{let{active:c,over:e}=b;if(e&&c.id!==e.id){let b=a.findIndex(a=>a.id===c.id),f=a.findIndex(a=>a.id===e.id);d(bA(a,b,f))}},children:(0,v.jsx)(bH,{items:a.map(a=>a.id),strategy:bE,children:(0,v.jsx)("div",{className:"relative",children:a.map((a,d)=>(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(b1,{block:a,isSelected:b===a.id,onSelect:()=>c(a.id),onDelete:()=>f(a.id),onUpdate:b=>g(a.id,b)}),(0,v.jsxs)("div",{className:"group relative flex h-8 items-center justify-center",children:[(0,v.jsx)("div",{className:"absolute inset-x-0 h-px bg-border opacity-0 transition-opacity group-hover:opacity-100"}),(0,v.jsx)(y.motion.button,{initial:{scale:0},whileHover:{scale:1.1},animate:{scale:1},onClick:()=>{k(a.id),i(!0)},className:"relative z-10 flex h-7 w-7 items-center justify-center rounded-full border border-border bg-card text-muted-foreground opacity-0 shadow-sm transition-all hover:border-primary hover:text-primary group-hover:opacity-100",children:(0,v.jsx)(bS.Plus,{className:"h-4 w-4"})})]})]},a.id))})})}),(0,v.jsx)(b2.Modal,{open:h,onClose:()=>i(!1),title:"Select Block Type",children:(0,v.jsx)("div",{className:"grid gap-2",children:b3.map(a=>(0,v.jsxs)(L.Button,{variant:"outline",onClick:()=>{e(a.type,j),i(!1),k(void 0)},className:"flex h-auto flex-col items-start gap-1 rounded-xl p-4 text-left",children:[(0,v.jsx)("span",{className:"font-medium",children:a.label}),(0,v.jsx)("span",{className:"text-sm text-muted-foreground",children:a.description})]},a.type))})})]})}var b5=a.i(37383),b6=a.i(61116),b7=a.i(80020);function b8(a,[b,c]){return Math.min(c,Math.max(b,a))}var b9=a.i(34025),ca=a.i(52201),cb=a.i(33224),cc=a.i(17182),cd=a.i(53313),ce=a.i(52801),cf=a.i(17550),cg=a.i(1589),ch=a.i(2760),ci=a.i(22490),cj=a.i(76873),ck=a.i(64338),cl=a.i(12636),cm=a.i(91236),cn=a.i(94271),co=a.i(88380),cp=a.i(6252),cq=w.forwardRef((a,b)=>(0,v.jsx)(ck.Primitive.span,{...a,ref:b,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));cq.displayName="VisuallyHidden";var cr=a.i(47726),cs=a.i(28210),ct=[" ","Enter","ArrowUp","ArrowDown"],cu=[" ","Enter"],cv="Select",[cw,cx,cy]=(0,ca.createCollection)(cv),[cz,cA]=(0,cc.createContextScope)(cv,[cy,ci.createPopperScope]),cB=(0,ci.createPopperScope)(),[cC,cD]=cz(cv),[cE,cF]=cz(cv),cG=a=>{let{__scopeSelect:b,children:c,open:d,defaultOpen:e,onOpenChange:f,value:g,defaultValue:h,onValueChange:i,dir:j,name:k,autoComplete:l,disabled:m,required:n,form:o}=a,p=cB(b),[q,r]=w.useState(null),[s,t]=w.useState(null),[u,x]=w.useState(!1),y=(0,cd.useDirection)(j),[z=!1,A]=(0,cn.useControllableState)({prop:d,defaultProp:e,onChange:f}),[B,C]=(0,cn.useControllableState)({prop:g,defaultProp:h,onChange:i}),D=w.useRef(null),E=!q||o||!!q.closest("form"),[F,G]=w.useState(new Set),H=Array.from(F).map(a=>a.props.value).join(";");return(0,v.jsx)(ci.Root,{...p,children:(0,v.jsxs)(cC,{required:n,scope:b,trigger:q,onTriggerChange:r,valueNode:s,onValueNodeChange:t,valueNodeHasChildren:u,onValueNodeHasChildrenChange:x,contentId:(0,ch.useId)(),value:B,onValueChange:C,open:z,onOpenChange:A,dir:y,triggerPointerDownPosRef:D,disabled:m,children:[(0,v.jsx)(cw.Provider,{scope:b,children:(0,v.jsx)(cE,{scope:a.__scopeSelect,onNativeOptionAdd:w.useCallback(a=>{G(b=>new Set(b).add(a))},[]),onNativeOptionRemove:w.useCallback(a=>{G(b=>{let c=new Set(b);return c.delete(a),c})},[]),children:c})}),E?(0,v.jsxs)(df,{"aria-hidden":!0,required:n,tabIndex:-1,name:k,autoComplete:l,value:B,onChange:a=>C(a.target.value),disabled:m,form:o,children:[void 0===B?(0,v.jsx)("option",{value:""}):null,Array.from(F)]},H):null]})})};cG.displayName=cv;var cH="SelectTrigger",cI=w.forwardRef((a,b)=>{let{__scopeSelect:c,disabled:d=!1,...e}=a,f=cB(c),g=cD(cH,c),h=g.disabled||d,i=(0,cb.useComposedRefs)(b,g.onTriggerChange),j=cx(c),k=w.useRef("touch"),[l,m,n]=dg(a=>{let b=j().filter(a=>!a.disabled),c=b.find(a=>a.value===g.value),d=dh(b,a,c);void 0!==d&&g.onValueChange(d.value)}),o=a=>{h||(g.onOpenChange(!0),n()),a&&(g.triggerPointerDownPosRef.current={x:Math.round(a.pageX),y:Math.round(a.pageY)})};return(0,v.jsx)(ci.Anchor,{asChild:!0,...f,children:(0,v.jsx)(ck.Primitive.button,{type:"button",role:"combobox","aria-controls":g.contentId,"aria-expanded":g.open,"aria-required":g.required,"aria-autocomplete":"none",dir:g.dir,"data-state":g.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":de(g.value)?"":void 0,...e,ref:i,onClick:(0,b9.composeEventHandlers)(e.onClick,a=>{a.currentTarget.focus(),"mouse"!==k.current&&o(a)}),onPointerDown:(0,b9.composeEventHandlers)(e.onPointerDown,a=>{k.current=a.pointerType;let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),0===a.button&&!1===a.ctrlKey&&"mouse"===a.pointerType&&(o(a),a.preventDefault())}),onKeyDown:(0,b9.composeEventHandlers)(e.onKeyDown,a=>{let b=""!==l.current;a.ctrlKey||a.altKey||a.metaKey||1!==a.key.length||m(a.key),(!b||" "!==a.key)&&ct.includes(a.key)&&(o(),a.preventDefault())})})})});cI.displayName=cH;var cJ="SelectValue",cK=w.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,children:f,placeholder:g="",...h}=a,i=cD(cJ,c),{onValueNodeHasChildrenChange:j}=i,k=void 0!==f,l=(0,cb.useComposedRefs)(b,i.onValueNodeChange);return(0,co.useLayoutEffect)(()=>{j(k)},[j,k]),(0,v.jsx)(ck.Primitive.span,{...h,ref:l,style:{pointerEvents:"none"},children:de(i.value)?(0,v.jsx)(v.Fragment,{children:g}):f})});cK.displayName=cJ;var cL=w.forwardRef((a,b)=>{let{__scopeSelect:c,children:d,...e}=a;return(0,v.jsx)(ck.Primitive.span,{"aria-hidden":!0,...e,ref:b,children:d||""})});cL.displayName="SelectIcon";var cM=a=>(0,v.jsx)(cj.Portal,{asChild:!0,...a});cM.displayName="SelectPortal";var cN="SelectContent",cO=w.forwardRef((a,b)=>{let c=cD(cN,a.__scopeSelect),[d,e]=w.useState();return((0,co.useLayoutEffect)(()=>{e(new DocumentFragment)},[]),c.open)?(0,v.jsx)(cR,{...a,ref:b}):d?W.createPortal((0,v.jsx)(cP,{scope:a.__scopeSelect,children:(0,v.jsx)(cw.Slot,{scope:a.__scopeSelect,children:(0,v.jsx)("div",{children:a.children})})}),d):null});cO.displayName=cN;var[cP,cQ]=cz(cN),cR=w.forwardRef((a,b)=>{let{__scopeSelect:c,position:d="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:f,onPointerDownOutside:g,side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:l,collisionBoundary:m,collisionPadding:n,sticky:o,hideWhenDetached:p,avoidCollisions:q,...r}=a,s=cD(cN,c),[t,u]=w.useState(null),[x,y]=w.useState(null),z=(0,cb.useComposedRefs)(b,a=>u(a)),[A,B]=w.useState(null),[C,D]=w.useState(null),E=cx(c),[F,G]=w.useState(!1),H=w.useRef(!1);w.useEffect(()=>{if(t)return(0,cr.hideOthers)(t)},[t]),(0,cf.useFocusGuards)();let I=w.useCallback(a=>{let[b,...c]=E().map(a=>a.ref.current),[d]=c.slice(-1),e=document.activeElement;for(let c of a)if(c===e||(c?.scrollIntoView({block:"nearest"}),c===b&&x&&(x.scrollTop=0),c===d&&x&&(x.scrollTop=x.scrollHeight),c?.focus(),document.activeElement!==e))return},[E,x]),J=w.useCallback(()=>I([A,t]),[I,A,t]);w.useEffect(()=>{F&&J()},[F,J]);let{onOpenChange:K,triggerPointerDownPosRef:L}=s;w.useEffect(()=>{if(t){let a={x:0,y:0},b=b=>{a={x:Math.abs(Math.round(b.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(b.pageY)-(L.current?.y??0))}},c=c=>{a.x<=10&&a.y<=10?c.preventDefault():t.contains(c.target)||K(!1),document.removeEventListener("pointermove",b),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",c,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",c,{capture:!0})}}},[t,K,L]),w.useEffect(()=>{let a=()=>K(!1);return window.addEventListener("blur",a),window.addEventListener("resize",a),()=>{window.removeEventListener("blur",a),window.removeEventListener("resize",a)}},[K]);let[M,N]=dg(a=>{let b=E().filter(a=>!a.disabled),c=b.find(a=>a.ref.current===document.activeElement),d=dh(b,a,c);d&&setTimeout(()=>d.ref.current.focus())}),O=w.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==s.value&&s.value===b||d)&&(B(a),d&&(H.current=!0))},[s.value]),P=w.useCallback(()=>t?.focus(),[t]),Q=w.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==s.value&&s.value===b||d)&&D(a)},[s.value]),R="popper"===d?cT:cS,S=R===cT?{side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:l,collisionBoundary:m,collisionPadding:n,sticky:o,hideWhenDetached:p,avoidCollisions:q}:{};return(0,v.jsx)(cP,{scope:c,content:t,viewport:x,onViewportChange:y,itemRefCallback:O,selectedItem:A,onItemLeave:P,itemTextRefCallback:Q,focusSelectedItem:J,selectedItemText:C,position:d,isPositioned:F,searchRef:M,children:(0,v.jsx)(cs.RemoveScroll,{as:cl.Slot,allowPinchZoom:!0,children:(0,v.jsx)(cg.FocusScope,{asChild:!0,trapped:s.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:(0,b9.composeEventHandlers)(e,a=>{s.trigger?.focus({preventScroll:!0}),a.preventDefault()}),children:(0,v.jsx)(ce.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:()=>s.onOpenChange(!1),children:(0,v.jsx)(R,{role:"listbox",id:s.contentId,"data-state":s.open?"open":"closed",dir:s.dir,onContextMenu:a=>a.preventDefault(),...r,...S,onPlaced:()=>G(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...r.style},onKeyDown:(0,b9.composeEventHandlers)(r.onKeyDown,a=>{let b=a.ctrlKey||a.altKey||a.metaKey;if("Tab"===a.key&&a.preventDefault(),b||1!==a.key.length||N(a.key),["ArrowUp","ArrowDown","Home","End"].includes(a.key)){let b=E().filter(a=>!a.disabled).map(a=>a.ref.current);if(["ArrowUp","End"].includes(a.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(a.key)){let c=a.target,d=b.indexOf(c);b=b.slice(d+1)}setTimeout(()=>I(b)),a.preventDefault()}})})})})})})});cR.displayName="SelectContentImpl";var cS=w.forwardRef((a,b)=>{let{__scopeSelect:c,onPlaced:d,...e}=a,f=cD(cN,c),g=cQ(cN,c),[h,i]=w.useState(null),[j,k]=w.useState(null),l=(0,cb.useComposedRefs)(b,a=>k(a)),m=cx(c),n=w.useRef(!1),o=w.useRef(!0),{viewport:p,selectedItem:q,selectedItemText:r,focusSelectedItem:s}=g,t=w.useCallback(()=>{if(f.trigger&&f.valueNode&&h&&j&&p&&q&&r){let a=f.trigger.getBoundingClientRect(),b=j.getBoundingClientRect(),c=f.valueNode.getBoundingClientRect(),e=r.getBoundingClientRect();if("rtl"!==f.dir){let d=e.left-b.left,f=c.left-d,g=a.left-f,i=a.width+g,j=Math.max(i,b.width),k=b8(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.left=k+"px"}else{let d=b.right-e.right,f=window.innerWidth-c.right-d,g=window.innerWidth-a.right-f,i=a.width+g,j=Math.max(i,b.width),k=b8(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.right=k+"px"}let g=m(),i=window.innerHeight-20,k=p.scrollHeight,l=window.getComputedStyle(j),o=parseInt(l.borderTopWidth,10),s=parseInt(l.paddingTop,10),t=parseInt(l.borderBottomWidth,10),u=o+s+k+parseInt(l.paddingBottom,10)+t,v=Math.min(5*q.offsetHeight,u),w=window.getComputedStyle(p),x=parseInt(w.paddingTop,10),y=parseInt(w.paddingBottom,10),z=a.top+a.height/2-10,A=q.offsetHeight/2,B=o+s+(q.offsetTop+A);if(B<=z){let a=g.length>0&&q===g[g.length-1].ref.current;h.style.bottom="0px";let b=Math.max(i-z,A+(a?y:0)+(j.clientHeight-p.offsetTop-p.offsetHeight)+t);h.style.height=B+b+"px"}else{let a=g.length>0&&q===g[0].ref.current;h.style.top="0px";let b=Math.max(z,o+p.offsetTop+(a?x:0)+A);h.style.height=b+(u-B)+"px",p.scrollTop=B-z+p.offsetTop}h.style.margin="10px 0",h.style.minHeight=v+"px",h.style.maxHeight=i+"px",d?.(),requestAnimationFrame(()=>n.current=!0)}},[m,f.trigger,f.valueNode,h,j,p,q,r,f.dir,d]);(0,co.useLayoutEffect)(()=>t(),[t]);let[u,x]=w.useState();(0,co.useLayoutEffect)(()=>{j&&x(window.getComputedStyle(j).zIndex)},[j]);let y=w.useCallback(a=>{a&&!0===o.current&&(t(),s?.(),o.current=!1)},[t,s]);return(0,v.jsx)(cU,{scope:c,contentWrapper:h,shouldExpandOnScrollRef:n,onScrollButtonChange:y,children:(0,v.jsx)("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:u},children:(0,v.jsx)(ck.Primitive.div,{...e,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});cS.displayName="SelectItemAlignedPosition";var cT=w.forwardRef((a,b)=>{let{__scopeSelect:c,align:d="start",collisionPadding:e=10,...f}=a,g=cB(c);return(0,v.jsx)(ci.Content,{...g,...f,ref:b,align:d,collisionPadding:e,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cT.displayName="SelectPopperPosition";var[cU,cV]=cz(cN,{}),cW="SelectViewport",cX=w.forwardRef((a,b)=>{let{__scopeSelect:c,nonce:d,...e}=a,f=cQ(cW,c),g=cV(cW,c),h=(0,cb.useComposedRefs)(b,f.onViewportChange),i=w.useRef(0);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),(0,v.jsx)(cw.Slot,{scope:c,children:(0,v.jsx)(ck.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:(0,b9.composeEventHandlers)(e.onScroll,a=>{let b=a.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=g;if(d?.current&&c){let a=Math.abs(i.current-b.scrollTop);if(a>0){let d=window.innerHeight-20,e=Math.max(parseFloat(c.style.minHeight),parseFloat(c.style.height));if(e<d){let f=e+a,g=Math.min(d,f),h=f-g;c.style.height=g+"px","0px"===c.style.bottom&&(b.scrollTop=h>0?h:0,c.style.justifyContent="flex-end")}}}i.current=b.scrollTop})})})]})});cX.displayName=cW;var cY="SelectGroup",[cZ,c$]=cz(cY);w.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=(0,ch.useId)();return(0,v.jsx)(cZ,{scope:c,id:e,children:(0,v.jsx)(ck.Primitive.div,{role:"group","aria-labelledby":e,...d,ref:b})})}).displayName=cY;var c_="SelectLabel";w.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=c$(c_,c);return(0,v.jsx)(ck.Primitive.div,{id:e.id,...d,ref:b})}).displayName=c_;var c0="SelectItem",[c1,c2]=cz(c0),c3=w.forwardRef((a,b)=>{let{__scopeSelect:c,value:d,disabled:e=!1,textValue:f,...g}=a,h=cD(c0,c),i=cQ(c0,c),j=h.value===d,[k,l]=w.useState(f??""),[m,n]=w.useState(!1),o=(0,cb.useComposedRefs)(b,a=>i.itemRefCallback?.(a,d,e)),p=(0,ch.useId)(),q=w.useRef("touch"),r=()=>{e||(h.onValueChange(d),h.onOpenChange(!1))};if(""===d)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,v.jsx)(c1,{scope:c,value:d,disabled:e,textId:p,isSelected:j,onItemTextChange:w.useCallback(a=>{l(b=>b||(a?.textContent??"").trim())},[]),children:(0,v.jsx)(cw.ItemSlot,{scope:c,value:d,disabled:e,textValue:k,children:(0,v.jsx)(ck.Primitive.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":j&&m,"data-state":j?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...g,ref:o,onFocus:(0,b9.composeEventHandlers)(g.onFocus,()=>n(!0)),onBlur:(0,b9.composeEventHandlers)(g.onBlur,()=>n(!1)),onClick:(0,b9.composeEventHandlers)(g.onClick,()=>{"mouse"!==q.current&&r()}),onPointerUp:(0,b9.composeEventHandlers)(g.onPointerUp,()=>{"mouse"===q.current&&r()}),onPointerDown:(0,b9.composeEventHandlers)(g.onPointerDown,a=>{q.current=a.pointerType}),onPointerMove:(0,b9.composeEventHandlers)(g.onPointerMove,a=>{q.current=a.pointerType,e?i.onItemLeave?.():"mouse"===q.current&&a.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,b9.composeEventHandlers)(g.onPointerLeave,a=>{a.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:(0,b9.composeEventHandlers)(g.onKeyDown,a=>{(i.searchRef?.current===""||" "!==a.key)&&(cu.includes(a.key)&&r()," "===a.key&&a.preventDefault())})})})})});c3.displayName=c0;var c4="SelectItemText",c5=w.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,...f}=a,g=cD(c4,c),h=cQ(c4,c),i=c2(c4,c),j=cF(c4,c),[k,l]=w.useState(null),m=(0,cb.useComposedRefs)(b,a=>l(a),i.onItemTextChange,a=>h.itemTextRefCallback?.(a,i.value,i.disabled)),n=k?.textContent,o=w.useMemo(()=>(0,v.jsx)("option",{value:i.value,disabled:i.disabled,children:n},i.value),[i.disabled,i.value,n]),{onNativeOptionAdd:p,onNativeOptionRemove:q}=j;return(0,co.useLayoutEffect)(()=>(p(o),()=>q(o)),[p,q,o]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ck.Primitive.span,{id:i.textId,...f,ref:m}),i.isSelected&&g.valueNode&&!g.valueNodeHasChildren?W.createPortal(f.children,g.valueNode):null]})});c5.displayName=c4;var c6="SelectItemIndicator",c7=w.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return c2(c6,c).isSelected?(0,v.jsx)(ck.Primitive.span,{"aria-hidden":!0,...d,ref:b}):null});c7.displayName=c6;var c8="SelectScrollUpButton",c9=w.forwardRef((a,b)=>{let c=cQ(c8,a.__scopeSelect),d=cV(c8,a.__scopeSelect),[e,f]=w.useState(!1),g=(0,cb.useComposedRefs)(b,d.onScrollButtonChange);return(0,co.useLayoutEffect)(()=>{if(c.viewport&&c.isPositioned){let a=function(){f(b.scrollTop>0)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,v.jsx)(dc,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop-b.offsetHeight)}}):null});c9.displayName=c8;var da="SelectScrollDownButton",db=w.forwardRef((a,b)=>{let c=cQ(da,a.__scopeSelect),d=cV(da,a.__scopeSelect),[e,f]=w.useState(!1),g=(0,cb.useComposedRefs)(b,d.onScrollButtonChange);return(0,co.useLayoutEffect)(()=>{if(c.viewport&&c.isPositioned){let a=function(){let a=b.scrollHeight-b.clientHeight;f(Math.ceil(b.scrollTop)<a)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,v.jsx)(dc,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop+b.offsetHeight)}}):null});db.displayName=da;var dc=w.forwardRef((a,b)=>{let{__scopeSelect:c,onAutoScroll:d,...e}=a,f=cQ("SelectScrollButton",c),g=w.useRef(null),h=cx(c),i=w.useCallback(()=>{null!==g.current&&(window.clearInterval(g.current),g.current=null)},[]);return w.useEffect(()=>()=>i(),[i]),(0,co.useLayoutEffect)(()=>{let a=h().find(a=>a.ref.current===document.activeElement);a?.ref.current?.scrollIntoView({block:"nearest"})},[h]),(0,v.jsx)(ck.Primitive.div,{"aria-hidden":!0,...e,ref:b,style:{flexShrink:0,...e.style},onPointerDown:(0,b9.composeEventHandlers)(e.onPointerDown,()=>{null===g.current&&(g.current=window.setInterval(d,50))}),onPointerMove:(0,b9.composeEventHandlers)(e.onPointerMove,()=>{f.onItemLeave?.(),null===g.current&&(g.current=window.setInterval(d,50))}),onPointerLeave:(0,b9.composeEventHandlers)(e.onPointerLeave,()=>{i()})})});w.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return(0,v.jsx)(ck.Primitive.div,{"aria-hidden":!0,...d,ref:b})}).displayName="SelectSeparator";var dd="SelectArrow";function de(a){return""===a||void 0===a}w.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=cB(c),f=cD(dd,c),g=cQ(dd,c);return f.open&&"popper"===g.position?(0,v.jsx)(ci.Arrow,{...e,...d,ref:b}):null}).displayName=dd;var df=w.forwardRef((a,b)=>{let{value:c,...d}=a,e=w.useRef(null),f=(0,cb.useComposedRefs)(b,e),g=(0,cp.usePrevious)(c);return w.useEffect(()=>{let a=e.current,b=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(g!==c&&b){let d=new Event("change",{bubbles:!0});b.call(a,c),a.dispatchEvent(d)}},[g,c]),(0,v.jsx)(cq,{asChild:!0,children:(0,v.jsx)("select",{...d,ref:f,defaultValue:c})})});function dg(a){let b=(0,cm.useCallbackRef)(a),c=w.useRef(""),d=w.useRef(0),e=w.useCallback(a=>{let e=c.current+a;b(e),function a(b){c.current=b,window.clearTimeout(d.current),""!==b&&(d.current=window.setTimeout(()=>a(""),1e3))}(e)},[b]),f=w.useCallback(()=>{c.current="",window.clearTimeout(d.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(d.current),[]),[c,e,f]}function dh(a,b,c){var d,e;let f=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,g=c?a.indexOf(c):-1,h=(d=a,e=Math.max(g,0),d.map((a,b)=>d[(e+b)%d.length]));1===f.length&&(h=h.filter(a=>a!==c));let i=h.find(a=>a.textValue.toLowerCase().startsWith(f.toLowerCase()));return i!==c?i:void 0}df.displayName="BubbleSelect";var di=a.i(57318),dj=a.i(45210),dj=dj;let dk=(0,C.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function dl({...a}){return(0,v.jsx)(cG,{"data-slot":"select",...a})}function dm({...a}){return(0,v.jsx)(cK,{"data-slot":"select-value",...a})}function dn({className:a,size:b="default",children:c,...d}){return(0,v.jsxs)(cI,{"data-slot":"select-trigger","data-size":b,className:(0,bU.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...d,children:[c,(0,v.jsx)(cL,{asChild:!0,children:(0,v.jsx)(dj.default,{className:"size-4 opacity-50"})})]})}function dp({className:a,children:b,position:c="popper",...d}){return(0,v.jsx)(cM,{children:(0,v.jsxs)(cO,{"data-slot":"select-content",className:(0,bU.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...d,children:[(0,v.jsx)(dr,{}),(0,v.jsx)(cX,{className:(0,bU.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,v.jsx)(ds,{})]})})}function dq({className:a,children:b,...c}){return(0,v.jsxs)(c3,{"data-slot":"select-item",className:(0,bU.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,v.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,v.jsx)(c7,{children:(0,v.jsx)(di.CheckIcon,{className:"size-4"})})}),(0,v.jsx)(c5,{children:b})]})}function dr({className:a,...b}){return(0,v.jsx)(c9,{"data-slot":"select-scroll-up-button",className:(0,bU.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,v.jsx)(dk,{className:"size-4"})})}function ds({className:a,...b}){return(0,v.jsx)(db,{"data-slot":"select-scroll-down-button",className:(0,bU.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,v.jsx)(dj.default,{className:"size-4"})})}function dt({block:a,onUpdate:b}){return(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-lg font-semibold",children:{hero:"Hero Section","text-image":"Text + Image",gallery:"Image Gallery","posts-feed":"Posts Feed",cta:"Call to Action"}[a.type]}),(0,v.jsx)("p",{className:"text-sm text-muted-foreground",children:"Edit block properties"})]}),(0,v.jsxs)("div",{className:"space-y-4",children:["hero"===a.type&&(0,v.jsx)(du,{data:a.data,onUpdate:b}),"text-image"===a.type&&(0,v.jsx)(dv,{data:a.data,onUpdate:b}),"gallery"===a.type&&(0,v.jsx)(dw,{data:a.data,onUpdate:b}),"posts-feed"===a.type&&(0,v.jsx)(dx,{data:a.data,onUpdate:b}),"cta"===a.type&&(0,v.jsx)(dy,{data:a.data,onUpdate:b})]})]})}function du({data:a,onUpdate:b}){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Title"}),(0,v.jsx)(b5.Input,{value:String(a.title||""),onChange:a=>b({title:a.target.value}),placeholder:"Hero title",className:"rounded-xl"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Subtitle"}),(0,v.jsx)(b6.Textarea,{value:String(a.subtitle||""),onChange:a=>b({subtitle:a.target.value}),placeholder:"Hero subtitle",className:"rounded-xl",rows:2})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Background Image"}),(0,v.jsx)(bW.ImageUploader,{value:String(a.image||""),onChange:a=>b({image:a}),className:"aspect-video rounded-xl"})]})]})}function dv({data:a,onUpdate:b}){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Heading"}),(0,v.jsx)(b5.Input,{value:String(a.heading||""),onChange:a=>b({heading:a.target.value}),placeholder:"Section heading",className:"rounded-xl"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Text"}),(0,v.jsx)(b6.Textarea,{value:String(a.text||""),onChange:a=>b({text:a.target.value}),placeholder:"Section content",className:"rounded-xl",rows:4})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Image Position"}),(0,v.jsxs)(dl,{value:String(a.imagePosition||"right"),onValueChange:a=>b({imagePosition:a}),children:[(0,v.jsx)(dn,{className:"rounded-xl",children:(0,v.jsx)(dm,{})}),(0,v.jsxs)(dp,{children:[(0,v.jsx)(dq,{value:"left",children:"Left"}),(0,v.jsx)(dq,{value:"right",children:"Right"})]})]})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Image"}),(0,v.jsx)(bW.ImageUploader,{value:String(a.image||""),onChange:a=>b({image:a}),className:"aspect-[4/3] rounded-xl"})]})]})}function dw({data:a,onUpdate:b}){let c=a.images||[];return(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)(b7.Label,{children:["Images (",c.length,")"]}),(0,v.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add images directly in the preview area"}),c.length>0&&(0,v.jsx)("div",{className:"grid grid-cols-2 gap-2",children:c.map((a,d)=>(0,v.jsxs)("div",{className:"group relative aspect-square overflow-hidden rounded-lg",children:[(0,v.jsx)("img",{src:a||"/placeholder.svg",alt:"",className:"h-full w-full object-cover"}),(0,v.jsx)("button",{onClick:()=>b({images:c.filter((a,b)=>b!==d)}),className:"absolute right-1 top-1 flex h-6 w-6 items-center justify-center rounded-full bg-destructive text-destructive-foreground opacity-0 transition-opacity group-hover:opacity-100",children:""})]},d))})]})}function dx({data:a,onUpdate:b}){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Number of Posts"}),(0,v.jsx)(b5.Input,{type:"number",value:String(a.limit||3),onChange:a=>b({limit:Number(a.target.value)}),min:1,max:12,className:"rounded-xl"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Category (optional)"}),(0,v.jsx)(b5.Input,{value:String(a.category||""),onChange:a=>b({category:a.target.value}),placeholder:"Filter by category",className:"rounded-xl"})]})]})}function dy({data:a,onUpdate:b}){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Title"}),(0,v.jsx)(b5.Input,{value:String(a.title||""),onChange:a=>b({title:a.target.value}),placeholder:"CTA title",className:"rounded-xl"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Button Label"}),(0,v.jsx)(b5.Input,{value:String(a.buttonLabel||""),onChange:a=>b({buttonLabel:a.target.value}),placeholder:"Button text",className:"rounded-xl"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(b7.Label,{children:"Button Link"}),(0,v.jsx)(b5.Input,{value:String(a.buttonLink||""),onChange:a=>b({buttonLink:a.target.value}),placeholder:"/contact",className:"rounded-xl"})]})]})}var dz=a.i(20714);function dA({params:a}){let{id:b}=(0,w.use)(a),c=(0,x.useRouter)(),{page:d}=(0,M.usePage)("new"===b?"1":b),{blocks:e,setBlocks:f}=(0,M.usePageBlocks)("new"===b?"1":b),{deletePage:g}=(0,M.usePages)(),{activeTenant:h}=(0,U.useTenants)(),[i,j]=(0,w.useState)(null),[k,l]=(0,w.useState)("idle"),[m,n]=(0,w.useState)(d?.status==="published"),[o,p]=(0,w.useState)(!1),[q,r]=(0,w.useState)(!1),[s,t]=(0,w.useState)(""),[u,C]=(0,w.useState)([]),{toast:N}=(0,dz.useToast)(),[S,T]=(0,w.useTransition)(),W=e.find(a=>a.id===i),X=(0,w.useCallback)((0,V.default)(async a=>{"new"!==b&&T(async()=>{l("saving");let c=a.map(a=>({type:a.type,props:a.data||a.props||{}})),d=await O(b,c);d.error?(N({title:"Error",description:d.error,variant:"destructive"}),l("idle")):(l("saved"),setTimeout(()=>l("idle"),2e3))})},1e3),[b,N]);(0,w.useEffect)(()=>(e.length>0&&"new"!==b&&X(e),()=>{X.cancel()}),[e,X,b]);let Y=(a,b)=>{f(c=>c.map(c=>c.id===a?{...c,data:{...c.data,...b}}:c))},Z=(a,b)=>{let c={id:crypto.randomUUID(),type:a,data:function(a){switch(a){case"hero":return{title:" Hero Section",subtitle:"   ",image:""};case"text-image":return{heading:" ",text:"    ",image:"",imagePosition:"right"};case"gallery":return{images:[]};case"posts-feed":return{limit:3,category:""};case"cta":return{title:"Call to Action",buttonLabel:"",buttonLink:"#"};default:return{}}}(a)};if(b){let a=e.findIndex(a=>a.id===b),d=[...e];d.splice(a+1,0,c),f(d)}else f([...e,c]);j(c.id)},$=async()=>{"new"===b?N({title:"Error",description:"Please save the page first",variant:"destructive"}):T(async()=>{let a=!m;if(a){if(!h?.domain)return void N({title:"Error",description:"Tenant domain not found",variant:"destructive"});try{(await P(b,h.domain)).ok&&(N({title:"Success",description:"Page published successfully"}),n(!0))}catch(a){N({title:"Error",description:a instanceof Error?a.message:"Failed to publish page",variant:"destructive"})}}else{let a=await Q(b);if(a.error)return void N({title:"Error",description:a.error,variant:"destructive"});a.data&&(N({title:"Success",description:"Page set to draft"}),n(!1))}n(a),N({title:a?"Published":"Unpublished",description:a?"Page is now live":"Page is now a draft"})})},_=async()=>{"new"!==b&&d?T(async()=>{let a=`${d.slug}-copy`,e=await R(b,a,`${d.title} (Copy)`);e.error?N({title:"Error",description:e.error,variant:"destructive"}):e.data&&(N({title:"Cloned",description:"Page cloned successfully"}),c.push(`/pages/${e.data.id}/edit`))}):N({title:"Error",description:"Cannot clone a new page",variant:"destructive"})};return(0,v.jsxs)("div",{className:"flex h-[calc(100vh-4rem)] flex-col",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)(L.Button,{variant:"ghost",size:"icon",asChild:!0,className:"rounded-xl",children:(0,v.jsx)(K.default,{href:"/pages",children:(0,v.jsx)(I.ArrowLeft,{className:"h-5 w-5"})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"font-semibold",children:d?.title||" "}),(0,v.jsx)("p",{className:"text-sm text-muted-foreground",children:d?.slug||"/new-page"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(z.AnimatePresence,{mode:"wait",children:"idle"!==k&&(0,v.jsx)(y.motion.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex items-center gap-2 text-sm text-muted-foreground",children:"saving"===k?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B.Loader2,{className:"h-4 w-4 animate-spin"}),"..."]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(A.Check,{className:"h-4 w-4 text-primary"}),""]})})}),(0,v.jsxs)(L.Button,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-2 rounded-xl",children:[(0,v.jsx)(F,{className:"h-4 w-4"}),"AI"]}),(0,v.jsxs)(L.Button,{variant:"outline",size:"sm",onClick:_,className:"gap-2 rounded-xl bg-transparent",children:[(0,v.jsx)(E.Copy,{className:"h-4 w-4"}),""]}),(0,v.jsxs)(L.Button,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"gap-2 rounded-xl",children:[(0,v.jsx)(D,{className:"h-4 w-4"}),""]}),"new"!==b&&(0,v.jsx)(L.Button,{variant:"outline",size:"sm",onClick:()=>{confirm("        ;")&&(g(b),c.push("/pages"),N({title:"",description:"   "}))},className:"gap-2 rounded-xl text-destructive hover:bg-destructive/10 bg-transparent",children:(0,v.jsx)(J.Trash2,{className:"h-4 w-4"})}),(0,v.jsx)(L.Button,{onClick:$,variant:m?"secondary":"default",size:"sm",className:"gap-2 rounded-xl",children:m?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(H.GlobeLock,{className:"h-4 w-4"}),""]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(G.Globe,{className:"h-4 w-4"}),""]})})]})]}),(0,v.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,v.jsx)("div",{className:"flex-1 overflow-y-auto bg-muted/30 p-6",children:(0,v.jsxs)("div",{className:"mx-auto max-w-4xl rounded-2xl border border-border bg-card shadow-sm",children:[(0,v.jsx)(b4,{blocks:e,selectedBlockId:i,onSelect:j,onReorder:a=>{f(a)},onAddBlock:Z,onDeleteBlock:a=>{f(b=>b.filter(b=>b.id!==a)),i===a&&j(null)},onBlockUpdate:Y}),0===e.length&&(0,v.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center gap-4 text-muted-foreground",children:[(0,v.jsx)("p",{children:"  blocks.     block."}),(0,v.jsx)(L.Button,{onClick:()=>Z("hero"),variant:"outline",className:"rounded-xl",children:" Hero Block"})]})]})}),(0,v.jsx)("div",{className:"w-80 shrink-0 overflow-y-auto border-l border-border bg-card p-4",children:(0,v.jsx)(z.AnimatePresence,{mode:"wait",children:W?(0,v.jsx)(y.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:(0,v.jsx)(dt,{block:W,onUpdate:a=>Y(W.id,a)})},W.id):(0,v.jsx)(y.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex h-full flex-col items-center justify-center text-center text-muted-foreground",children:(0,v.jsx)("p",{children:" block  "})},"empty")})})]}),(0,v.jsx)(b2.Modal,{open:o,onClose:()=>p(!1),title:"Version History",children:(0,v.jsx)(dB,{pageId:b,onRestore:()=>p(!1)})}),(0,v.jsx)(b2.Modal,{open:q,onClose:()=>r(!1),title:"  AI",children:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)(b6.Textarea,{placeholder:"  section    ...",value:s,onChange:a=>t(a.target.value),rows:4,className:"rounded-xl"}),(0,v.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,v.jsx)(L.Button,{variant:"outline",onClick:()=>r(!1),className:"rounded-xl",children:""}),(0,v.jsx)(L.Button,{onClick:()=>{s.trim()&&(N({title:"AI Generation",description:"   AI   "}),r(!1),t(""))},className:"rounded-xl",children:""})]})]})})]})}function dB({pageId:a,onRestore:b}){let[c,d]=(0,w.useState)([]),[e,f]=(0,w.useState)(!0),{toast:g}=(0,dz.useToast)(),h=(0,x.useRouter)(),{setBlocks:i}=(0,M.usePageBlocks)(a),[j,k]=(0,w.useTransition)();(0,w.useEffect)(()=>{"new"===a?f(!1):async function(){f(!0);let b=await T(a);if(b.error){g({title:"Error",description:b.error,variant:"destructive"}),f(!1);return}d((b.data||[]).map(a=>({id:a.id,date:new Date(a.created_at).toLocaleString(),version:a.version_number,content:a.content}))),f(!1)}()},[a,g]);let l=async d=>{k(async()=>{let e=await S(a,d);if(e.error)return void g({title:"Error",description:e.error,variant:"destructive"});let f=c.find(a=>a.id===d);f?.content?.sections&&i(f.content.sections.map((a,b)=>({id:a.id||`block-${b}`,type:a.type,data:a.props||{},props:a.props||{}}))),g({title:"Restored",description:"Version restored successfully"}),b(),h.refresh()})};return e?(0,v.jsx)("div",{className:"text-center py-4",children:"Loading versions..."}):0===c.length?(0,v.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No versions found"}):(0,v.jsx)("div",{className:"space-y-2",children:c.map((a,b)=>(0,v.jsxs)(y.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*b},className:"flex items-center justify-between rounded-xl border border-border p-3",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"font-medium",children:["Version ",a.version]}),(0,v.jsx)("p",{className:"text-sm text-muted-foreground",children:a.date})]}),(0,v.jsx)(L.Button,{variant:"outline",size:"sm",onClick:()=>l(a.id),disabled:j,className:"rounded-lg bg-transparent",children:"Restore"})]},a.id))})}a.s(["default",()=>dA],94394)}];

//# sourceMappingURL=cms-frontend-builder_app_%28cms%29_pages_%5Bid%5D_edit_page_tsx_e0faaa4b._.js.map