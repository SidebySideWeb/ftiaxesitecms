module.exports=[95685,a=>{"use strict";let b=(0,a.i(5097).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],95685)},95507,a=>{"use strict";a.s([])},7536,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(44473),g=a.r(53478),h=a.r(38261)},37383,a=>{"use strict";var b=a.i(44279),c=a.i(94027);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},80020,a=>{"use strict";var b=a.i(44279),c=a.i(68316),d=a.i(64338),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(94027);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],80020)},20714,a=>{"use strict";var b=a.i(68316);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["useToast",()=>j])},44147,a=>{"use strict";var b=a.i(44279),c=a.i(94027);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},91253,a=>{"use strict";var b=a.i(44279),c=a.i(68316),d=a.i(86719),e=a.i(47341),f=a.i(61291),g=a.i(95685);let h=(0,a.i(5097).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var i=a.i(44147),j=a.i(78359),k=a.i(37383),l=a.i(80020),m=a.i(96868),n=a.i(71458);a.i(95507);var o=a.i(7536),p=(0,o.createServerReference)("40a0a7d44f91bc91a3e9afac09b7ee500da88235e6",o.callServer,void 0,o.findSourceMapURL,"createTenant");o.callServer,o.findSourceMapURL;var q=a.i(20714),r=a.i(22562),s=a.i(27017);function t(){let{tenants:a,setTenants:o,setActiveTenant:t,activeTenant:u,isLoading:v}=(0,n.useTenants)(),{setTenantId:w}=(0,s.useTenant)(),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)({name:"",domain:"",brandColor:"#0d9488"}),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),{toast:F}=(0,q.useToast)(),{user:G}=(0,r.useSession)(),H=async()=>{if(!z.name||!z.domain)return;C(!0);let a=await p(z);if(a.success){let b=z.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),c={id:a.id,name:z.name,slug:b,domain:z.domain,brandColor:z.brandColor,createdAt:new Date().toISOString()};o(a=>[...a,c]),F({title:"Site δημιουργήθηκε",description:`Το ${z.name} δημιουργήθηκε επιτυχώς`}),y(!1),A({name:"",domain:"",brandColor:"#0d9488"})}C(!1)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Τα Sites μου"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Διαχειριστείτε τα websites σας"})]}),(0,b.jsxs)(j.Button,{onClick:()=>y(!0),className:"gap-2 rounded-xl",children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4"}),"Νέο Site"]})]}),v?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Φόρτωση..."})}):0===a.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"Δεν έχετε ακόμα sites"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(j.Button,{onClick:()=>y(!0),className:"gap-2 rounded-xl",children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4"}),"Δημιουργία πρώτου Site"]}),!1]}),!1]}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map((a,c)=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},children:(0,b.jsx)(i.Card,{className:`group cursor-pointer rounded-2xl border-border transition-all hover:shadow-md ${u&&a.id===u.id?"border-primary ring-2 ring-primary/20":"hover:border-primary"}`,children:(0,b.jsxs)(i.CardContent,{className:"p-5",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl",style:{backgroundColor:`${a.brandColor}20`},children:(0,b.jsx)(f.Globe,{className:"h-6 w-6",style:{color:a.brandColor}})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[u&&a.id===u.id&&(0,b.jsx)("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-xs font-medium text-primary",children:"Ενεργό"}),(0,b.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:a.brandColor},title:a.brandColor})]})]}),(0,b.jsx)("h3",{className:"mb-1 text-lg font-semibold",children:a.name}),(0,b.jsxs)("p",{className:"mb-3 flex items-center gap-1 text-sm text-muted-foreground",children:[a.domain,(0,b.jsx)(h,{className:"h-3 w-3"})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Δημιουργήθηκε ",new Date(a.createdAt||a.created_at||Date.now()).toLocaleDateString("el-GR")]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,b.jsx)(j.Button,{variant:a.id===u?.id?"default":"outline",size:"sm",onClick:()=>{t(a),w(a.id),F({title:"Tenant selected",description:`Switched to ${a.name}`})},className:"flex-1 rounded-lg",disabled:!!(u&&a.id===u.id),children:u&&a.id===u.id?"Επιλεγμένο":"Επιλογή"}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{u&&a.id===u.id?F({title:"Σφάλμα",description:"Δεν μπορείτε να διαγράψετε το ενεργό site",variant:"destructive"}):confirm(`Είστε σίγουροι ότι θέλετε να διαγράψετε το "${a.name}";`)&&(o(b=>b.filter(b=>b.id!==a.id)),F({title:"Διαγράφηκε",description:`Το ${a.name} διαγράφηκε`}))},className:"rounded-lg text-destructive hover:bg-destructive/10",children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]})]})})},a.id))}),(0,b.jsx)(m.Modal,{open:x,onClose:()=>y(!1),title:"Δημιουργία Site",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Όνομα"}),(0,b.jsx)(k.Input,{value:z.name,onChange:a=>A(b=>({...b,name:a.target.value})),placeholder:"Η Εταιρεία μου",className:"rounded-xl"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Domain"}),(0,b.jsx)(k.Input,{value:z.domain,onChange:a=>A(b=>({...b,domain:a.target.value})),placeholder:"mycompany.gr",className:"rounded-xl"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Χρώμα Brand"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(k.Input,{type:"color",value:z.brandColor,onChange:a=>A(b=>({...b,brandColor:a.target.value})),className:"h-10 w-20 cursor-pointer rounded-xl p-1"}),(0,b.jsx)(k.Input,{value:z.brandColor,onChange:a=>A(b=>({...b,brandColor:a.target.value})),placeholder:"#0d9488",className:"flex-1 rounded-xl font-mono text-sm"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>y(!1),className:"rounded-xl",children:"Ακύρωση"}),(0,b.jsx)(j.Button,{onClick:H,disabled:B||!z.name||!z.domain,className:"rounded-xl",children:B?"Δημιουργία...":"Δημιουργία"})]})]})})]})}a.s(["default",()=>t],91253)}];

//# sourceMappingURL=cms-frontend-builder_d21afb13._.js.map