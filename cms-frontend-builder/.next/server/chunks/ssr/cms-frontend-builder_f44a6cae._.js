module.exports=[44147,a=>{"use strict";var b=a.i(44279),c=a.i(94027);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},85961,a=>{"use strict";var b=a.i(68316),c=a.i(92132),d=a.i(10849);a.i(95507);var e=a.i(7536),f=(0,e.createServerReference)("00b2946ef30aacf41c89fa495e7737407fc4507ff5",e.callServer,void 0,e.findSourceMapURL,"listPages");function g(){let a=(0,c.useTenantId)(),[d,e]=(0,b.useState)([]),[g,h]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{a?async function(){try{h(!0);let a=await f();if(a.error){e([]),h(!1);return}let b=(a.data||[]).map(a=>({id:a.id,title:a.title,slug:a.slug,status:a.status,updatedAt:a.updated_at,updated_at:a.updated_at,blocks:[]}));e(b),h(!1)}catch(a){e([]),h(!1)}}():h(!1)},[a]),{pages:d,setPages:e,addPage:a=>{e(b=>[a,...b])},updatePage:(a,b)=>{e(c=>c.map(c=>c.id===a?{...c,...b}:c))},deletePage:a=>{e(b=>b.filter(b=>b.id!==a))},isLoading:g}}function h(a){let e=(0,c.useTenantId)(),[f,g]=(0,b.useState)(void 0),[h,i]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{e&&a&&"new"!==a?async function(){try{i(!0);let b=(0,d.supabaseBrowser)(),{data:c,error:f}=await b.from("tenants").select("id").eq("id",e).maybeSingle();if(f||!c)return void i(!1);let{data:h,error:j}=await b.from("pages").select("*").eq("id",a).eq("tenant_id",c.id).maybeSingle();if(j||!h)return void i(!1);let{data:k}=await b.from("page_versions").select("content").eq("page_id",a).order("version_number",{ascending:!1}).limit(1).maybeSingle(),l={id:h.id,title:h.title,slug:h.slug,status:h.status,updatedAt:h.updated_at,updated_at:h.updated_at,blocks:k?.content?.sections||[]};g(l),i(!1)}catch(a){i(!1)}}():i(!1)},[e,a]),{page:f,isLoading:h}}function i(a){let e=(0,c.useTenantId)(),[f,g]=(0,b.useState)([]),[h,i]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{e&&a&&"new"!==a?async function(){try{i(!0);let b=(0,d.supabaseBrowser)(),{data:c}=await b.from("page_versions").select("content").eq("page_id",a).order("version_number",{ascending:!1}).limit(1).maybeSingle(),e=(c?.content?.sections||[]).map((a,b)=>({id:a.id||`block-${b}`,type:a.type,data:a.props||{},props:a.props||{}}));g(e),i(!1)}catch(a){g([]),i(!1)}}():i(!1)},[e,a]),{blocks:f,setBlocks:g,isLoading:h}}a.s(["usePage",()=>h,"usePageBlocks",()=>i,"usePages",()=>g],85961)},95507,a=>{"use strict";a.s([])},7536,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(44473),g=a.r(53478),h=a.r(38261)},92132,a=>{"use strict";var b=a.i(90785),c=a.i(27017);function d(){let{tenantId:a}=(0,c.useTenant)(),d=(0,b.useSearchParams)().get("tenant");return a||d||null}a.s(["useTenantId",()=>d])},18265,a=>{"use strict";var b=a.i(68316),c=a.i(92132);a.i(95507);var d=a.i(7536),e=(0,d.createServerReference)("0009b2d854ecdafc67348394fb57003b51618a8d67",d.callServer,void 0,d.findSourceMapURL,"listPosts"),f=(0,d.createServerReference)("400156b8ce56fc4d15c8949f5298bb26e8bd76e735",d.callServer,void 0,d.findSourceMapURL,"getPostById");function g(){let a=(0,c.useTenantId)(),[d,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{a?async function(){try{h(!0);let a=await e();if(a.error){f([]),h(!1);return}let b=(a.data||[]).map(a=>({id:a.id,title:a.title,slug:a.slug,status:a.status,publishedAt:a.published_at,published_at:a.published_at,coverImage:null,excerpt:a.excerpt,content:a.content}));f(b),h(!1)}catch(a){f([]),h(!1)}}():h(!1)},[a]),{posts:d,setPosts:f,addPost:a=>{f(b=>[a,...b])},updatePost:(a,b)=>{f(c=>c.map(c=>c.id===a?{...c,...b}:c))},deletePost:a=>{f(b=>b.filter(b=>b.id!==a))},isLoading:g}}function h(a){let d=(0,c.useTenantId)(),[e,g]=(0,b.useState)(void 0),[h,i]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{d&&a&&"new"!==a?async function(){try{i(!0);let b=await f(a);if(b.error||!b.data)return void i(!1);let c=b.data,d={id:c.id,title:c.title,slug:c.slug,status:c.status,publishedAt:c.published_at,published_at:c.published_at,coverImage:null,excerpt:c.excerpt,content:c.content};g(d),i(!1)}catch(a){i(!1)}}():i(!1)},[d,a]),{post:e,isLoading:h}}a.s(["usePost",()=>h,"usePosts",()=>g],18265)},73430,a=>{"use strict";let b=(0,a.i(5097).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],73430)},6188,a=>{"use strict";var b=a.i(44279),c=a.i(86719),d=a.i(52604),e=a.i(61023),f=a.i(6775),g=a.i(61291),h=a.i(47341),i=a.i(5097);let j=(0,i.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),k=(0,i.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var l=a.i(73430),m=a.i(44147),n=a.i(78359),o=a.i(85961),p=a.i(18265),q=a.i(71458);function r(){let{pages:a}=(0,o.usePages)(),{posts:i}=(0,p.usePosts)(),{activeTenant:r}=(0,q.useTenants)();if(!r)return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Φόρτωση..."})});let s=a.slice(0,3),t=i.slice(0,3),u=a.filter(a=>"published"===a.status).length,v=i.filter(a=>"published"===a.status).length;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Καλωσήρθατε στο ftiaxesite.gr"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Διαχειριστείτε το ",r.name]})]}),(0,b.jsx)(n.Button,{asChild:!0,className:"gap-2 rounded-xl",children:(0,b.jsxs)(d.default,{href:"/tenants",children:[(0,b.jsx)(h.Plus,{className:"h-4 w-4"}),"Νέο Site"]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,b.jsxs)(m.CardContent,{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Σελίδες"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.length})]}),(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(e.FileText,{className:"h-5 w-5 text-primary"})})]}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:[u," δημοσιευμένες"]})]})})}),(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:(0,b.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,b.jsxs)(m.CardContent,{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Άρθρα"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:i.length})]}),(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(f.Newspaper,{className:"h-5 w-5 text-primary"})})]}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:[v," δημοσιευμένα"]})]})})}),(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,b.jsxs)(m.CardContent,{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Επισκέψεις"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"1,234"})]}),(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(l.Eye,{className:"h-5 w-5 text-primary"})})]}),(0,b.jsx)("p",{className:"mt-2 text-xs text-green-600",children:"+12% από χθες"})]})})}),(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:(0,b.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,b.jsxs)(m.CardContent,{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Μετατροπές"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"3.2%"})]}),(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(k,{className:"h-5 w-5 text-primary"})})]}),(0,b.jsx)("p",{className:"mt-2 text-xs text-green-600",children:"+0.5% από την προηγούμενη εβδομάδα"})]})})})]}),(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,b.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,b.jsx)(m.CardHeader,{className:"pb-3",children:(0,b.jsxs)(m.CardTitle,{className:"flex items-center gap-3 text-lg",children:[(0,b.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:r.brandColor}}),"Ενεργό Site"]})}),(0,b.jsx)(m.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Όνομα"}),(0,b.jsx)("p",{className:"font-medium",children:r.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Domain"}),(0,b.jsx)("p",{className:"font-medium",children:r.domain})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Δημιουργήθηκε"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(r.created_at||Date.now()).toLocaleDateString("el-GR")})]})]})})]})}),(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-medium",children:"Γρήγορες Ενέργειες"}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(d.default,{href:"/pages/new/edit",children:(0,b.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,b.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(e.FileText,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Νέα Σελίδα"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Δημιουργήστε νέα σελίδα"})]}),(0,b.jsx)(j,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})}),(0,b.jsx)(d.default,{href:"/posts/new",children:(0,b.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,b.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(f.Newspaper,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Νέο Άρθρο"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Γράψτε blog post"})]}),(0,b.jsx)(j,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})}),(0,b.jsx)(d.default,{href:"/globals",children:(0,b.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,b.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,b.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,b.jsx)(g.Globe,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Ρυθμίσεις Site"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Επεξεργασία globals"})]}),(0,b.jsx)(j,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,b.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,b.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between pb-3",children:[(0,b.jsx)(m.CardTitle,{className:"text-lg",children:"Πρόσφατες Σελίδες"}),(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",asChild:!0,className:"rounded-lg",children:(0,b.jsx)(d.default,{href:"/pages",children:"Όλες"})})]}),(0,b.jsx)(m.CardContent,{className:"space-y-3",children:s.map(a=>(0,b.jsxs)(d.default,{href:`/pages/${a.id}/edit`,className:"flex items-center justify-between rounded-xl p-3 transition-colors hover:bg-muted/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.slug})]}),(0,b.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${"published"===a.status?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"published"===a.status?"Δημοσιευμένη":"Πρόχειρο"})]},a.id))})]})}),(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:(0,b.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,b.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between pb-3",children:[(0,b.jsx)(m.CardTitle,{className:"text-lg",children:"Πρόσφατα Άρθρα"}),(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",asChild:!0,className:"rounded-lg",children:(0,b.jsx)(d.default,{href:"/posts",children:"Όλα"})})]}),(0,b.jsx)(m.CardContent,{className:"space-y-3",children:t.map(a=>(0,b.jsxs)(d.default,{href:`/posts/${a.id}`,className:"flex items-center justify-between rounded-xl p-3 transition-colors hover:bg-muted/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.publishedAt?new Date(a.publishedAt).toLocaleDateString("el-GR"):"Πρόχειρο"})]}),(0,b.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${"published"===a.status?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"published"===a.status?"Δημοσιευμένο":"Πρόχειρο"})]},a.id))})]})})]})]})}a.s(["default",()=>r,"dynamic",0,"force-dynamic"],6188)}];

//# sourceMappingURL=cms-frontend-builder_f44a6cae._.js.map