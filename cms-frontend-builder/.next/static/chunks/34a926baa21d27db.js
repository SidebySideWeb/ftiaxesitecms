(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31500,e=>{"use strict";let t=(0,e.i(20968).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],31500)},21738,e=>{"use strict";var t=e.i(48564),a=e.i(12500);function s({className:e,type:s,...r}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>s])},86907,e=>{"use strict";e.s([])},68540,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let i=e.r(33472),n=e.r(64056),d=e.r(2836)},42077,e=>{"use strict";var t=e.i(48564),a=e.i(78150),s=e.i(21767),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(12500);function n({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],42077)},15443,e=>{"use strict";var t=e.i(78150);let a=0,s=new Map,r=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=[],n={toasts:[]};function d(e){n=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(n,e),i.forEach(e=>{e(n)})}function l({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function o(){let[e,a]=t.useState(n);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>o])},98829,e=>{"use strict";var t=e.i(48564),a=e.i(12500);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},21582,e=>{"use strict";e.i(634);var t=e.i(48564),a=e.i(78150),s=e.i(94277),r=e.i(5325),i=e.i(70589),n=e.i(31500);let d=(0,e.i(20968).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var l=e.i(98829),o=e.i(52390),c=e.i(21738),u=e.i(42077),m=e.i(45240),x=e.i(92327);e.i(86907);var p=e.i(68540),f=(0,p.createServerReference)("4028bcd6cc20180ec2dfa6741bb5266a10d3a96d2f",p.callServer,void 0,p.findSourceMapURL,"createTenant");p.callServer,p.findSourceMapURL;var h=e.i(15443),v=e.i(96232),b=e.i(7317);function g(){let{tenants:e,setTenants:p,setActiveTenant:g,activeTenant:j,isLoading:y}=(0,x.useTenants)(),{setTenantId:N}=(0,b.useTenant)(),[S,C]=(0,a.useState)(!1),[T,w]=(0,a.useState)({name:"",domain:"",brandColor:"#0d9488"}),[M,k]=(0,a.useState)(!1),[A,D]=(0,a.useState)(!1),{toast:O}=(0,h.useToast)(),{user:I}=(0,v.useSession)(),_=async()=>{if(!T.name||!T.domain)return;k(!0);let e=await f(T);if(e.success){let t=T.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),a={id:e.id,name:T.name,slug:t,domain:T.domain,brandColor:T.brandColor,createdAt:new Date().toISOString()};p(e=>[...e,a]),O({title:"Site δημιουργήθηκε",description:`Το ${T.name} δημιουργήθηκε επιτυχώς`}),C(!1),w({name:"",domain:"",brandColor:"#0d9488"})}k(!1)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Τα Sites μου"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Διαχειριστείτε τα websites σας"})]}),(0,t.jsxs)(o.Button,{onClick:()=>C(!0),className:"gap-2 rounded-xl",children:[(0,t.jsx)(r.Plus,{className:"h-4 w-4"}),"Νέο Site"]})]}),y?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Φόρτωση..."})}):0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Δεν έχετε ακόμα sites"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.Button,{onClick:()=>C(!0),className:"gap-2 rounded-xl",children:[(0,t.jsx)(r.Plus,{className:"h-4 w-4"}),"Δημιουργία πρώτου Site"]}),!1]}),!1]}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((e,a)=>(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,t.jsx)(l.Card,{className:`group cursor-pointer rounded-2xl border-border transition-all hover:shadow-md ${j&&e.id===j.id?"border-primary ring-2 ring-primary/20":"hover:border-primary"}`,children:(0,t.jsxs)(l.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl",style:{backgroundColor:`${e.brandColor}20`},children:(0,t.jsx)(i.Globe,{className:"h-6 w-6",style:{color:e.brandColor}})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[j&&e.id===j.id&&(0,t.jsx)("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-xs font-medium text-primary",children:"Ενεργό"}),(0,t.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:e.brandColor},title:e.brandColor})]})]}),(0,t.jsx)("h3",{className:"mb-1 text-lg font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"mb-3 flex items-center gap-1 text-sm text-muted-foreground",children:[e.domain,(0,t.jsx)(d,{className:"h-3 w-3"})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Δημιουργήθηκε ",new Date(e.createdAt||e.created_at||Date.now()).toLocaleDateString("el-GR")]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)(o.Button,{variant:e.id===j?.id?"default":"outline",size:"sm",onClick:()=>{g(e),N(e.id),O({title:"Tenant selected",description:`Switched to ${e.name}`})},className:"flex-1 rounded-lg",disabled:!!(j&&e.id===j.id),children:j&&e.id===j.id?"Επιλεγμένο":"Επιλογή"}),(0,t.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:()=>{j&&e.id===j.id?O({title:"Σφάλμα",description:"Δεν μπορείτε να διαγράψετε το ενεργό site",variant:"destructive"}):confirm(`Είστε σίγουροι ότι θέλετε να διαγράψετε το "${e.name}";`)&&(p(t=>t.filter(t=>t.id!==e.id)),O({title:"Διαγράφηκε",description:`Το ${e.name} διαγράφηκε`}))},className:"rounded-lg text-destructive hover:bg-destructive/10",children:(0,t.jsx)(n.Trash2,{className:"h-4 w-4"})})]})]})})},e.id))}),(0,t.jsx)(m.Modal,{open:S,onClose:()=>C(!1),title:"Δημιουργία Site",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Όνομα"}),(0,t.jsx)(c.Input,{value:T.name,onChange:e=>w(t=>({...t,name:e.target.value})),placeholder:"Η Εταιρεία μου",className:"rounded-xl"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Domain"}),(0,t.jsx)(c.Input,{value:T.domain,onChange:e=>w(t=>({...t,domain:e.target.value})),placeholder:"mycompany.gr",className:"rounded-xl"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Χρώμα Brand"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.Input,{type:"color",value:T.brandColor,onChange:e=>w(t=>({...t,brandColor:e.target.value})),className:"h-10 w-20 cursor-pointer rounded-xl p-1"}),(0,t.jsx)(c.Input,{value:T.brandColor,onChange:e=>w(t=>({...t,brandColor:e.target.value})),placeholder:"#0d9488",className:"flex-1 rounded-xl font-mono text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>C(!1),className:"rounded-xl",children:"Ακύρωση"}),(0,t.jsx)(o.Button,{onClick:_,disabled:M||!T.name||!T.domain,className:"rounded-xl",children:M?"Δημιουργία...":"Δημιουργία"})]})]})})]})}e.s(["default",()=>g],21582)}]);