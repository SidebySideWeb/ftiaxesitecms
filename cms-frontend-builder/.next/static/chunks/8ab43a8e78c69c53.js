(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29275,e=>{"use strict";var t=e.i(69024),r=e.i(7317);function s(){let{tenantId:e}=(0,r.useTenant)(),s=(0,t.useSearchParams)().get("tenant");return e||s||null}e.s(["useTenantId",()=>s])},31500,e=>{"use strict";let t=(0,e.i(20968).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],31500)},86907,e=>{"use strict";e.s([])},68540,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var i in s)Object.defineProperty(r,i,{enumerable:!0,get:s[i]});let a=e.r(33472),n=e.r(64056),l=e.r(2836)},21738,e=>{"use strict";var t=e.i(48564),r=e.i(12500);function s({className:e,type:s,...i}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>s])},43843,e=>{"use strict";var t=e.i(78150),r=e.i(29275);e.i(86907);var s=e.i(68540),i=(0,s.createServerReference)("003abdea1bebe025a462efeac684d81daa6c40da37",s.callServer,void 0,s.findSourceMapURL,"listPosts"),a=(0,s.createServerReference)("404597e3dcd148939d0f10f47392d6103b22e2c95d",s.callServer,void 0,s.findSourceMapURL,"getPostById");function n(){let e=(0,r.useTenantId)(),[s,a]=(0,t.useState)([]),[n,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e?async function(){try{l(!0);let e=await i();if(e.error){a([]),l(!1);return}let t=(e.data||[]).map(e=>({id:e.id,title:e.title,slug:e.slug,status:e.status,publishedAt:e.published_at,published_at:e.published_at,coverImage:null,excerpt:e.excerpt,content:e.content}));a(t),l(!1)}catch(e){a([]),l(!1)}}():l(!1)},[e]),{posts:s,setPosts:a,addPost:e=>{a(t=>[e,...t])},updatePost:(e,t)=>{a(r=>r.map(r=>r.id===e?{...r,...t}:r))},deletePost:e=>{a(t=>t.filter(t=>t.id!==e))},isLoading:n}}function l(e){let s=(0,r.useTenantId)(),[i,n]=(0,t.useState)(void 0),[l,d]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{s&&e&&"new"!==e?async function(){try{d(!0);let t=await a(e);if(t.error||!t.data)return void d(!1);let r=t.data,s={id:r.id,title:r.title,slug:r.slug,status:r.status,publishedAt:r.published_at,published_at:r.published_at,coverImage:null,excerpt:r.excerpt,content:r.content};n(s),d(!1)}catch(e){d(!1)}}():d(!1)},[s,e]),{post:i,isLoading:l}}e.s(["usePost",()=>l,"usePosts",()=>n],43843)},32932,85607,e=>{"use strict";var t=e.i(48564),r=e.i(78150),s=e.i(94277);let i=(0,e.i(20968).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var a=e.i(89915),n=e.i(82016),l=e.i(21738),d=e.i(52390);function o({data:e,columns:o,searchKey:c,onRowClick:u,pageSize:h=10}){let[f,v]=(0,r.useState)(""),[x,m]=(0,r.useState)(0),p=(0,r.useMemo)(()=>f&&c?e.filter(e=>String(e[c]).toLowerCase().includes(f.toLowerCase())):e,[e,f,c]),b=p.slice(x*h,(x+1)*h),g=Math.ceil(p.length/h);return(0,t.jsxs)("div",{className:"space-y-4",children:[c&&(0,t.jsxs)("div",{className:"relative max-w-sm",children:[(0,t.jsx)(i,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(l.Input,{placeholder:"Search...",value:f,onChange:e=>{v(e.target.value),m(0)},className:"pl-9 rounded-xl"})]}),(0,t.jsx)("div",{className:"overflow-hidden rounded-2xl border border-border",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-muted/50",children:(0,t.jsx)("tr",{children:o.map(e=>(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:e.label},String(e.key)))})}),(0,t.jsx)("tbody",{children:b.map((e,r)=>(0,t.jsx)(s.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.03*r},onClick:()=>u?.(e),className:"border-t border-border bg-card transition-colors hover:bg-muted/30 cursor-pointer",children:o.map(r=>(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-card-foreground",children:r.render?r.render(e):String(e[r.key]??"")},String(r.key)))},e.id))})]})}),g>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",x*h+1,"-",Math.min((x+1)*h,p.length)," of ",p.length]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.Button,{variant:"outline",size:"icon",onClick:()=>m(e=>Math.max(0,e-1)),disabled:0===x,className:"h-8 w-8 rounded-lg",children:(0,t.jsx)(a.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(d.Button,{variant:"outline",size:"icon",onClick:()=>m(e=>Math.min(g-1,e+1)),disabled:x>=g-1,className:"h-8 w-8 rounded-lg",children:(0,t.jsx)(n.ChevronRight,{className:"h-4 w-4"})})]})]})]})}e.s(["DataTable",()=>o],32932);var c=e.i(34375),u=e.i(52368),h=e.i(12500);let f=(0,u.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function v({className:e,variant:r,asChild:s=!1,...i}){let a=s?c.Slot:"span";return(0,t.jsx)(a,{"data-slot":"badge",className:(0,h.cn)(f({variant:r}),e),...i})}e.s(["Badge",()=>v],85607)},97321,e=>{"use strict";var t=e.i(48564),r=e.i(69024),s=e.i(94277),i=e.i(5325),a=e.i(31500),n=e.i(52390),l=e.i(32932),d=e.i(43843),o=e.i(85607);function c(){let e=(0,r.useRouter)(),{posts:c,deletePost:u,isLoading:h}=(0,d.usePosts)(),f=[{key:"title",label:"Τίτλος",render:e=>(0,t.jsx)("span",{className:"font-medium",children:e.title})},{key:"status",label:"Κατάσταση",render:e=>(0,t.jsx)(o.Badge,{variant:"published"===e.status?"default":"secondary",className:"rounded-full",children:"published"===e.status?"Δημοσιευμένο":"Πρόχειρο"})},{key:"publishedAt",label:"Δημοσίευση",render:e=>(0,t.jsx)("span",{className:"text-muted-foreground",children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString("el-GR"):"—"})},{key:"actions",label:"",render:e=>(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:t=>{var r;return r=e.id,void(t.stopPropagation(),confirm("Είστε σίγουροι ότι θέλετε να διαγράψετε αυτό το άρθρο;")&&u(r))},className:"h-8 w-8 rounded-lg text-destructive hover:bg-destructive/10 hover:text-destructive",children:(0,t.jsx)(a.Trash2,{className:"h-4 w-4"})})}];return h?(0,t.jsx)("div",{className:"flex h-64 items-center justify-center text-muted-foreground",children:"Φόρτωση..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Άρθρα"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Διαχειριστείτε τα blog posts"})]})}),(0,t.jsx)(l.DataTable,{data:c,columns:f,searchKey:"title",onRowClick:t=>e.push(`/posts/${t.id}`)}),(0,t.jsx)(s.motion.div,{className:"fixed bottom-8 right-8",initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:(0,t.jsxs)(n.Button,{onClick:()=>e.push("/posts/new"),size:"lg",className:"h-14 gap-2 rounded-2xl px-6 shadow-lg",children:[(0,t.jsx)(i.Plus,{className:"h-5 w-5"}),"Νέο Άρθρο"]})})]})}e.s(["default",()=>c])}]);