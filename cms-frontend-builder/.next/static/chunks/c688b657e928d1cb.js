(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98829,e=>{"use strict";var t=e.i(48564),s=e.i(12500);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>d])},28906,e=>{"use strict";var t=e.i(78150),s=e.i(29275),a=e.i(7471);e.i(86907);var r=e.i(68540),d=(0,r.createServerReference)("00b2946ef30aacf41c89fa495e7737407fc4507ff5",r.callServer,void 0,r.findSourceMapURL,"listPages");function i(){let e=(0,s.useTenantId)(),[a,r]=(0,t.useState)([]),[i,n]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e?async function(){try{n(!0);let e=await d();if(e.error){r([]),n(!1);return}let t=(e.data||[]).map(e=>({id:e.id,title:e.title,slug:e.slug,status:e.status,updatedAt:e.updated_at,updated_at:e.updated_at,blocks:[]}));r(t),n(!1)}catch(e){r([]),n(!1)}}():n(!1)},[e]),{pages:a,setPages:r,addPage:e=>{r(t=>[e,...t])},updatePage:(e,t)=>{r(s=>s.map(s=>s.id===e?{...s,...t}:s))},deletePage:e=>{r(t=>t.filter(t=>t.id!==e))},isLoading:i}}function n(e){let r=(0,s.useTenantId)(),[d,i]=(0,t.useState)(void 0),[n,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{r&&e&&"new"!==e?async function(){try{l(!0);let t=(0,a.supabaseBrowser)(),{data:s,error:d}=await t.from("tenants").select("id").eq("id",r).maybeSingle();if(d||!s)return void l(!1);let{data:n,error:c}=await t.from("pages").select("*").eq("id",e).eq("tenant_id",s.id).maybeSingle();if(c||!n)return void l(!1);let{data:o}=await t.from("page_versions").select("content").eq("page_id",e).order("version_number",{ascending:!1}).limit(1).maybeSingle(),u={id:n.id,title:n.title,slug:n.slug,status:n.status,updatedAt:n.updated_at,updated_at:n.updated_at,blocks:o?.content?.sections||[]};i(u),l(!1)}catch(e){l(!1)}}():l(!1)},[r,e]),{page:d,isLoading:n}}function l(e){let r=(0,s.useTenantId)(),[d,i]=(0,t.useState)([]),[n,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{r&&e&&"new"!==e?async function(){try{l(!0);let t=(0,a.supabaseBrowser)(),{data:s}=await t.from("page_versions").select("content").eq("page_id",e).order("version_number",{ascending:!1}).limit(1).maybeSingle(),r=(s?.content?.sections||[]).map((e,t)=>({id:e.id||`block-${t}`,type:e.type,data:e.props||{},props:e.props||{}}));i(r),l(!1)}catch(e){i([]),l(!1)}}():l(!1)},[r,e]),{blocks:d,setBlocks:i,isLoading:n}}e.s(["usePage",()=>n,"usePageBlocks",()=>l,"usePages",()=>i],28906)},86907,e=>{"use strict";e.s([])},68540,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={callServer:function(){return d.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var r in a)Object.defineProperty(s,r,{enumerable:!0,get:a[r]});let d=e.r(33472),i=e.r(64056),n=e.r(2836)},29275,e=>{"use strict";var t=e.i(69024),s=e.i(7317);function a(){let{tenantId:e}=(0,s.useTenant)(),a=(0,t.useSearchParams)().get("tenant");return e||a||null}e.s(["useTenantId",()=>a])},43843,e=>{"use strict";var t=e.i(78150),s=e.i(29275);e.i(86907);var a=e.i(68540),r=(0,a.createServerReference)("0009b2d854ecdafc67348394fb57003b51618a8d67",a.callServer,void 0,a.findSourceMapURL,"listPosts"),d=(0,a.createServerReference)("400156b8ce56fc4d15c8949f5298bb26e8bd76e735",a.callServer,void 0,a.findSourceMapURL,"getPostById");function i(){let e=(0,s.useTenantId)(),[a,d]=(0,t.useState)([]),[i,n]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e?async function(){try{n(!0);let e=await r();if(e.error){d([]),n(!1);return}let t=(e.data||[]).map(e=>({id:e.id,title:e.title,slug:e.slug,status:e.status,publishedAt:e.published_at,published_at:e.published_at,coverImage:null,excerpt:e.excerpt,content:e.content}));d(t),n(!1)}catch(e){d([]),n(!1)}}():n(!1)},[e]),{posts:a,setPosts:d,addPost:e=>{d(t=>[e,...t])},updatePost:(e,t)=>{d(s=>s.map(s=>s.id===e?{...s,...t}:s))},deletePost:e=>{d(t=>t.filter(t=>t.id!==e))},isLoading:i}}function n(e){let a=(0,s.useTenantId)(),[r,i]=(0,t.useState)(void 0),[n,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{a&&e&&"new"!==e?async function(){try{l(!0);let t=await d(e);if(t.error||!t.data)return void l(!1);let s=t.data,a={id:s.id,title:s.title,slug:s.slug,status:s.status,publishedAt:s.published_at,published_at:s.published_at,coverImage:null,excerpt:s.excerpt,content:s.content};i(a),l(!1)}catch(e){l(!1)}}():l(!1)},[a,e]),{post:r,isLoading:n}}e.s(["usePost",()=>n,"usePosts",()=>i],43843)},18739,e=>{"use strict";let t=(0,e.i(20968).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],18739)},69658,e=>{"use strict";var t=e.i(48564),s=e.i(94277),a=e.i(90320),r=e.i(76291),d=e.i(51466),i=e.i(70589),n=e.i(5325),l=e.i(20968);let c=(0,l.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o=(0,l.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var u=e.i(18739),m=e.i(98829),x=e.i(52390),p=e.i(28906),h=e.i(43843),f=e.i(92327);function j(){let{pages:e}=(0,p.usePages)(),{posts:l}=(0,h.usePosts)(),{activeTenant:j}=(0,f.useTenants)();if(!j)return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Φόρτωση..."})});let g=e.slice(0,3),y=l.slice(0,3),b=e.filter(e=>"published"===e.status).length,N=l.filter(e=>"published"===e.status).length;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Καλωσήρθατε στο ftiaxesite.gr"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Διαχειριστείτε το ",j.name]})]}),(0,t.jsx)(x.Button,{asChild:!0,className:"gap-2 rounded-xl",children:(0,t.jsxs)(a.default,{href:"/tenants",children:[(0,t.jsx)(n.Plus,{className:"h-4 w-4"}),"Νέο Site"]})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,t.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,t.jsxs)(m.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Σελίδες"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length})]}),(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(r.FileText,{className:"h-5 w-5 text-primary"})})]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:[b," δημοσιευμένες"]})]})})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:(0,t.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,t.jsxs)(m.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Άρθρα"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:l.length})]}),(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(d.Newspaper,{className:"h-5 w-5 text-primary"})})]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:[N," δημοσιευμένα"]})]})})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,t.jsxs)(m.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Επισκέψεις"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"1,234"})]}),(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(u.Eye,{className:"h-5 w-5 text-primary"})})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-green-600",children:"+12% από χθες"})]})})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:(0,t.jsx)(m.Card,{className:"rounded-2xl border-border",children:(0,t.jsxs)(m.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Μετατροπές"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"3.2%"})]}),(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(o,{className:"h-5 w-5 text-primary"})})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-green-600",children:"+0.5% από την προηγούμενη εβδομάδα"})]})})})]}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,t.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,t.jsx)(m.CardHeader,{className:"pb-3",children:(0,t.jsxs)(m.CardTitle,{className:"flex items-center gap-3 text-lg",children:[(0,t.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:j.brandColor}}),"Ενεργό Site"]})}),(0,t.jsx)(m.CardContent,{children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Όνομα"}),(0,t.jsx)("p",{className:"font-medium",children:j.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Domain"}),(0,t.jsx)("p",{className:"font-medium",children:j.domain})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Δημιουργήθηκε"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(j.createdAt).toLocaleDateString("el-GR")})]})]})})]})}),(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-medium",children:"Γρήγορες Ενέργειες"}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsx)(a.default,{href:"/pages/new/edit",children:(0,t.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,t.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(r.FileText,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Νέα Σελίδα"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Δημιουργήστε νέα σελίδα"})]}),(0,t.jsx)(c,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})}),(0,t.jsx)(a.default,{href:"/posts/new",children:(0,t.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,t.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(d.Newspaper,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Νέο Άρθρο"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Γράψτε blog post"})]}),(0,t.jsx)(c,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})}),(0,t.jsx)(a.default,{href:"/globals",children:(0,t.jsx)(m.Card,{className:"group cursor-pointer rounded-2xl border-border transition-all hover:border-primary hover:shadow-md",children:(0,t.jsxs)(m.CardContent,{className:"flex items-center gap-4 p-5",children:[(0,t.jsx)("div",{className:"rounded-xl bg-primary/10 p-3",children:(0,t.jsx)(i.Globe,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Ρυθμίσεις Site"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Επεξεργασία globals"})]}),(0,t.jsx)(c,{className:"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1"})]})})})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,t.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,t.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between pb-3",children:[(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Πρόσφατες Σελίδες"}),(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",asChild:!0,className:"rounded-lg",children:(0,t.jsx)(a.default,{href:"/pages",children:"Όλες"})})]}),(0,t.jsx)(m.CardContent,{className:"space-y-3",children:g.map(e=>(0,t.jsxs)(a.default,{href:`/pages/${e.id}/edit`,className:"flex items-center justify-between rounded-xl p-3 transition-colors hover:bg-muted/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.slug})]}),(0,t.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${"published"===e.status?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"published"===e.status?"Δημοσιευμένη":"Πρόχειρο"})]},e.id))})]})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:(0,t.jsxs)(m.Card,{className:"rounded-2xl border-border",children:[(0,t.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between pb-3",children:[(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Πρόσφατα Άρθρα"}),(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",asChild:!0,className:"rounded-lg",children:(0,t.jsx)(a.default,{href:"/posts",children:"Όλα"})})]}),(0,t.jsx)(m.CardContent,{className:"space-y-3",children:y.map(e=>(0,t.jsxs)(a.default,{href:`/posts/${e.id}`,className:"flex items-center justify-between rounded-xl p-3 transition-colors hover:bg-muted/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString("el-GR"):"Πρόχειρο"})]}),(0,t.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${"published"===e.status?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"published"===e.status?"Δημοσιευμένο":"Πρόχειρο"})]},e.id))})]})})]})]})}e.s(["default",()=>j,"dynamic",0,"force-dynamic"],69658)}]);